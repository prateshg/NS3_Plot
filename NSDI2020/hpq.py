import pylab as pl
import math
import numpy as np
import sys
import os
from matplotlib import pyplot as plt
import subprocess


plt.figure(figsize=(6,4))
plt.ylabel("FCT Slow Down", fontsize=19)
plt.xlabel("Flow Size (KB)", fontsize=19)
plt.xscale('log')
Flow_Size = [1, 2, 4, 8, 16, 64, 256, 1024, 2048]
#SlowDown = [1.0415421993866252, 1.1202380952380953, 1.2404545454545455, 1.4519144144144145, 1.8429435483870968, 2.8694444444444445, 5.0424132947976883, 6.586399082568807, 6.7630955274671853]
SlowDown = [1.0758115793215117, 11.059905660377359, 11.654439252336449, 15.547272727272727, 27.696080508474576, 46.121516393442626, 68.33858974358975, 54.09144144144144, 25.589648128624145]
plt.plot(Flow_Size, SlowDown, '-', color='blue', label='BFC')

#SlowDown = [18.140650961310229, 19.032380952380951, 21.289252336448598, 24.453703703703702, 27.643644067796611, 34.884564393939392, 37.698308823529409, 26.095573496659242, 12.795679460580914]
SlowDown=[29.239632468553459, 34.611071428571428, 37.931191588785047, 45.253265765765768, 60.210379464285715, 76.678017241379308, 83.474177631578954, 55.94972324723247, 26.029891975308644]
plt.plot(Flow_Size, SlowDown, '--', color='red', label='BFC-HighPriorityQ')
plt.yscale('log')
#plt.ylim([0,6])
ax = plt.axes()
for tick in ax.xaxis.get_major_ticks():
	tick.label.set_fontsize(16)
for tick in ax.yaxis.get_major_ticks():
	tick.label.set_fontsize(16)
plt.legend(bbox_to_anchor=(0.1, 0.97, 0.8, 0.97), loc=3, ncol=1, mode="expand", borderaxespad=0., prop={'size': 18}, frameon=False)
plt.tight_layout()

plt.figure(figsize=(6,4))
plt.ylabel("CDF", fontsize=19)
plt.xlabel("Occupied Physical Queues", fontsize=19)
plt.xlim([0,120])
#plt.xscale('log')

CDF = [0.01,0.02,0.03,0.04,0.05,0.06,0.07,0.08,0.09,0.1,0.11,0.12,0.13,0.14,0.15,0.16,0.17,0.18,0.19,0.2,0.21,0.22,0.23,0.24,0.25,0.26,0.27,0.28,0.29,0.3,0.31,0.32,0.33,0.34,0.35,0.36,0.37,0.38,0.39,0.4,0.41,0.42,0.43,0.44,0.45,0.46,0.47,0.48,0.49,0.5,0.51,0.52,0.53,0.54,0.55,0.56,0.57,0.58,0.59,0.6,0.61,0.62,0.63,0.64,0.65,0.66,0.67,0.68,0.69,0.7,0.71,0.72,0.73,0.74,0.75,0.76,0.77,0.78,0.79,0.8,0.81,0.82,0.83,0.84,0.85,0.86,0.87,0.88,0.89,0.9,0.91,0.92,0.93,0.94,0.95,0.96,0.97,0.98,0.99, 1.0]

Occupied_PQ = [16,17,18,19,20,21,21,22,22,23,23,24,24,25,25,25,26,26,26,27,27,27,28,28,28,29,29,29,30,30,30,31,31,31,32,32,32,33,33,33,34,34,34,35,35,36,36,36,37,37,38,38,39,39,40,41,41,42,43,44,45,46,48,50,53,56,60,64,66,69,71,73,75,77,78,80,81,82,84,85,86,88,89,90,92,93,94,96,97,99,101,103,106,109,112,115,120,127,138,175]
plt.plot(Occupied_PQ, CDF, '-', color='blue', label='BFC')
Occupied_PQ = [18,19,21,22,22,23,24,24,25,25,26,26,26,27,27,28,28,28,29,29,29,30,30,30,31,31,31,32,32,32,33,33,33,34,34,34,35,35,35,36,36,36,37,37,38,38,39,39,40,40,41,41,42,42,43,44,45,46,47,48,49,50,52,54,56,61,66,72,75,78,80,83,84,86,88,90,91,93,94,96,97,99,100,102,103,105,107,109,111,113,115,117,120,123,127,132,140,154,186,236]
plt.plot(Occupied_PQ, CDF, '--', color='red', label='BFC-HighPriorityQ')

ax = plt.axes()
for tick in ax.xaxis.get_major_ticks():
	tick.label.set_fontsize(16)
for tick in ax.yaxis.get_major_ticks():
	tick.label.set_fontsize(14)
plt.legend(bbox_to_anchor=(0.01, 0.97, 0.99, 0.97), loc=3, ncol=1, mode="expand", borderaxespad=0., prop={'size': 18}, frameon=False)
plt.tight_layout()

plt.figure(figsize=(6,4))
plt.ylabel("CDF", fontsize=19)
plt.xlabel("Occupied Physical Queues", fontsize=19)
#plt.xlim([0,120])
#plt.xscale('log')

CDF = [0.01,0.02,0.03,0.04,0.05,0.06,0.07,0.08,0.09,0.1,0.11,0.12,0.13,0.14,0.15,0.16,0.17,0.18,0.19,0.2,0.21,0.22,0.23,0.24,0.25,0.26,0.27,0.28,0.29,0.3,0.31,0.32,0.33,0.34,0.35,0.36,0.37,0.38,0.39,0.4,0.41,0.42,0.43,0.44,0.45,0.46,0.47,0.48,0.49,0.5,0.51,0.52,0.53,0.54,0.55,0.56,0.57,0.58,0.59,0.6,0.61,0.62,0.63,0.64,0.65,0.66,0.67,0.68,0.69,0.7,0.71,0.72,0.73,0.74,0.75,0.76,0.77,0.78,0.79,0.8,0.81,0.82,0.83,0.84,0.85,0.86,0.87,0.88,0.89,0.9,0.91,0.92,0.93,0.94,0.95,0.96,0.97,0.98,0.99, 1.0]

Occupied_PQ = [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,2,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,6,6,6,6,7,7,7,8,8,8,9,9,10,10,10,11,11,12,12,13,13,14,15,16,17,18,19,22,24,28,30,32]
plt.plot(Occupied_PQ, CDF, '-', color='blue', label='BFC')
Occupied_PQ = [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,2,2,2,2,2,3,3,3,3,4,4,4,5,5,5,5,6,6,6,7,7,7,8,8,9,9,9,10,10,11,11,12,12,13,13,14,14,15,16,17,18,19,21,22,24,27,29,30,31]
plt.plot(Occupied_PQ, CDF, '--', color='red', label='BFC-HighPriorityQ')

ax = plt.axes()
for tick in ax.xaxis.get_major_ticks():
	tick.label.set_fontsize(16)
for tick in ax.yaxis.get_major_ticks():
	tick.label.set_fontsize(14)
plt.legend(bbox_to_anchor=(0.01, 0.97, 0.99, 0.97), loc=3, ncol=1, mode="expand", borderaxespad=0., prop={'size': 18}, frameon=False)
plt.tight_layout()

plt.show()