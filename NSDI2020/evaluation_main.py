import pylab as pl
import math
import numpy as np
import sys
import os
from matplotlib import pyplot as plt
import subprocess

plt.figure(figsize=(8,4))
plt.ylabel("FCT Slow Down", fontsize=17)
plt.xlabel("Flow Size (KB)", fontsize=17)
plt.xscale('log')
plt.yscale('log')

Flow_Size = [1, 2, 4, 8, 16, 64, 256, 1024, 2048]
SlowDown = [1.0539055700609226, 10.621462264150944, 11.153971962616822, 12.948522727272728, 21.946413043478262, 39.167946428571426, 56.938171487603306, 43.002565298507463, 16.124034380305602]
plt.plot(Flow_Size, SlowDown, '-', color='blue', label='BFC')

# Flow_Size = [1, 2, 4, 8, 16, 64, 256, 1024, 2048]
# SlowDown = [1.0409246507578456, 1.1202380952380953, 1.2457943925233645, 1.506418918918919, 1.9773913043478262, 3.3389481707317072, 6.1290994623655912, 8.7448688711516542, 8.7526539278131636]
# plt.plot(Flow_Size, SlowDown, linestyle='--', color='lightblue', label='BFC+PFC')

# Flow_Size = [1, 2, 4, 8, 16, 64, 256, 1024, 2048]
# SlowDown = [5.114270065723959, 5.0389285714285714, 4.9807783018867928, 5.2181818181818178, 5.6096491228070171, 6.3706896551724137, 8.6388565891472862, 9.6031250000000004, 8.4142793594306049]
# plt.plot(Flow_Size, SlowDown, '--', color='red', label='SFQ')

Flow_Size = [1, 2, 4, 8, 16, 64, 256, 1024, 2048]
SlowDown = [2.044125253650579, 3.1748809523809522, 5.0467289719626169, 8.5262387387387388, 14.892266949152543, 31.385144927536231, 56.061430481283423, 41.99770728643216, 16.375]
plt.plot(Flow_Size, SlowDown, linestyle='--', color='black', linewidth=2, label='Ideal-FQ')

Flow_Size = [1, 2, 4, 8, 16, 64, 256, 1024, 2048]
SlowDown = [158.6977186311787, 155.61285714285714, 156.38364485981307, 157.45833333333334, 158.25851769911503, 161.93198818897639, 195.93463345864663, 231.95073076923077, 198.69766364353313]
plt.plot(Flow_Size, SlowDown, '--', color='red', label='DCQCN')

Flow_Size = [1, 2, 4, 8, 16, 64, 256, 1024, 2048]
SlowDown = [150.93856401932061, 146.5979761904762, 145.64162735849055, 144.01712962962964, 140.01174568965519, 130.26458333333332, 122.85396739130435, 163.7736040609137, 141.21758]
plt.plot(Flow_Size, SlowDown, '-.', color='green', label='DCQCN+Win')

SlowDown = [87.72172921397554, 84.34190476190476, 82.70566037735848, 80.71983944954128, 77.1873903508772, 67.99115853658536, 75.7284188034188, 150.73745928338764, 141.01734956781914]
plt.plot(Flow_Size, SlowDown, '--', color='brown', label='HPCC')

# Flow_Size = [1, 2, 4, 8, 16, 64, 256, 1024, 2048]
# SlowDown = [25.284822473663674, 24.655833333333334, 24.1875, 23.455113636363638, 22.575331858407079, 20.109513274336283, 14.682624481327801, 13.125555157593123, 48.167021560940839]
# plt.plot(Flow_Size, SlowDown, linestyle=':', color='brown', label='DCQCN+Win-PFC')

Flow_Size = [1, 2, 4, 8, 16, 64, 256, 1024, 2048]
SlowDown = [93.666233520532131, 89.750714285714281, 89.192990654205602, 86.625, 85.678043478260875, 73.728985507246378, 54.963932664756449, 97.647374260355036, 107.9591885441527]
plt.plot(Flow_Size, SlowDown, linestyle='-.', color='gold', label='DCQCN+Win+SFQ')

ax = plt.axes()
for tick in ax.xaxis.get_major_ticks():
	tick.label.set_fontsize(14)
for tick in ax.yaxis.get_major_ticks():
	tick.label.set_fontsize(14)
plt.legend(bbox_to_anchor=(0.0, 0.97, 0.99, 0.97), loc=3, ncol=3, mode="expand", borderaxespad=0., prop={'size': 16}, frameon=False)
plt.tight_layout()


plt.figure(figsize=(8,4))
plt.ylabel("CDF", fontsize=19)
plt.xlabel("Buffer Occupancy (MB)", fontsize=19)
#plt.ylim([0,1.35])
#plt.xscale('log')
Buffer_Size = [830764,993480,1061820,1110074,1148748,1181160,1209720,1235672,1259700,1282140,1303560,1322940,1341300,1358640,1374960,1389367,1404540,1418820,1433100,1446360,1459873,1473017,1486140,1499400,1511767,1524026,1536120,1547594,1559580,1571182,1583040,1594260,1605480,1617642,1627920,1640160,1651380,1662919,1674840,1686060,1696722,1707604,1718700,1729920,1741140,1752360,1762683,1774133,1785000,1796220,1807440,1818660,1829880,1840230,1851300,1863158,1874553,1885980,1898220,1909931,1921802,1934169,1946160,1958400,1970640,1983055,1995648,2008380,2021640,2033880,2047140,2060844,2074680,2087940,2102220,2116500,2131800,2146201,2161380,2177821,2194636,2212380,2229607,2247543,2267460,2287860,2309251,2331720,2355180,2381700,2411280,2442039,2478600,2518380,2563260,2618340,2694840,2807040,3009656,3920880]
CDF = [0.01,0.02,0.03,0.04,0.05,0.06,0.07,0.08,0.09,0.1,0.11,0.12,0.13,0.14,0.15,0.16,0.17,0.18,0.19,0.2,0.21,0.22,0.23,0.24,0.25,0.26,0.27,0.28,0.29,0.3,0.31,0.32,0.33,0.34,0.35,0.36,0.37,0.38,0.39,0.4,0.41,0.42,0.43,0.44,0.45,0.46,0.47,0.48,0.49,0.5,0.51,0.52,0.53,0.54,0.55,0.56,0.57,0.58,0.59,0.6,0.61,0.62,0.63,0.64,0.65,0.66,0.67,0.68,0.69,0.7,0.71,0.72,0.73,0.74,0.75,0.76,0.77,0.78,0.79,0.8,0.81,0.82,0.83,0.84,0.85,0.86,0.87,0.88,0.89,0.9,0.91,0.92,0.93,0.94,0.95,0.96,0.97,0.98,0.99, 1.0]
Buffer_Size = np.array(Buffer_Size)
plt.plot(Buffer_Size/(1e6), CDF,'-', color='blue', label='BFC')

# Buffer_Size = [830764,993480,1061820,1110074,1148748,1181160,1209720,1235672,1259700,1282140,1303560,1322940,1341300,1358640,1374960,1389367,1404540,1418820,1433100,1446360,1459873,1473017,1486140,1499400,1511767,1524026,1536120,1547594,1559580,1571182,1583040,1594260,1605480,1617642,1627920,1640160,1651380,1662919,1674840,1686060,1696722,1707604,1718700,1729920,1741140,1752360,1762683,1774133,1785000,1796220,1807440,1818660,1829880,1840230,1851300,1863158,1874553,1885980,1898220,1909931,1921802,1934169,1946160,1958400,1970640,1983055,1995648,2008380,2021640,2033880,2047140,2060844,2074680,2087940,2102220,2116500,2131800,2146201,2161380,2177821,2194636,2212380,2229607,2247543,2267460,2287860,2309251,2331720,2355180,2381700,2411280,2442039,2478600,2518380,2563260,2618340,2694840,2807040,3009656,3920880
# ]
# Buffer_Size = np.array(Buffer_Size)
# plt.plot(Buffer_Size/1e6, CDF, linestyle='--', color='lightblue', label='BFC+PFC')

# Buffer_Size = [6373,20400,35379,51073,67349,83679,99259,114240,128234,143197,158405,173674,188831,203190,218087,232531,247910,262096,277097,293016,308331,324298,339422,355845,372064,388080,403771,420313,436687,453286,470089,487549,505375,522841,541033,560275,579341,599318,619411,639253,659218,679276,700467,721938,744403,767007,788805,813285,836428,860936,886023,911637,938697,965216,992374,1021869,1051778,1081394,1112679,1145469,1179012,1213416,1250063,1287512,1327309,1367843,1409693,1453476,1503643,1553924,1611318,1672900,1742380,1813741,1898522,1997165,2125240,2294179,2518054,2922431,3661344,4567234,5680648,6630929,7435911,8349712,9243279,10243048,11107992,11796760,12502770,13203545,13879339,14409206,14845848,15292993,16520206,19703122,23613480,38355379]
# Buffer_Size = np.array(Buffer_Size)
# plt.plot(Buffer_Size/1e6, CDF, '--', color='red', label='SFQ')

Buffer_Size = [6543,20400,37195,54185,70526,86700,102860,118320,133749,149940,165240,180569,196265,210660,226194,241322,257040,272723,287804,303402,318858,335427,351900,367589,383808,399961,416160,432480,449810,466140,483618,501991,519180,537163,555267,573420,591681,610497,629684,648275,667388,687480,706860,727861,749657,770854,793349,815237,839588,862534,886380,912133,937840,965191,991440,1019234,1048933,1078841,1110049,1140756,1173577,1206904,1241837,1278726,1314560,1352961,1394340,1440480,1487663,1540222,1595241,1653949,1717447,1787087,1864089,1961939,2074930,2208319,2395894,2745553,3341706,4306229,5483451,6524417,7389190,8273861,9191849,10231862,11186214,11927282,12651478,13450948,14233333,15014770,15640986,16136207,17121459,20358698,24769281,38880124]
Buffer_Size = np.array(Buffer_Size)
plt.plot(Buffer_Size/1e6, CDF, linestyle='--', color='black', linewidth=2, label='Ideal-FQ')


Buffer_Size = [247,1764,3185,6120,9752,15300,22593,31740,42676,56372,73307,92666,114417,140499,169101,204656,246239,292916,350830,418578,507007,630469,814741,1110979,1576880,2173469,2736691,3254959,3698434,4024343,4313606,4532597,4711473,4874821,5011843,5119860,5209110,5282566,5345536,5397556,5443031,5482225,5518063,5550474,5576131,5593413,5606589,5621154,5647942,5716277,5844789,6031060,6510760,6770419,6948445,7075780,7174305,7257457,7320653,7368596,7409381,7446798,7481945,7514209,7543508,7569913,7594248,7615608,7636167,7654945,7673049,7690217,7706398,7722784,7737516,7751955,7766017,7779542,7793291,7806109,7818986,7831347,7844479,7857114,7869353,7881269,7893213,7904712,7916305,7928061,7940215,7953175,7966262,7980711,7995803,8012327,8030596,8055786,8099424,8470840]
Buffer_Size = np.array(Buffer_Size)
plt.plot(Buffer_Size/(1e6), CDF, '--', color='red', label='DCQCN')

Buffer_Size = [2040,6245,13819,23569,34443,45990,58549,70965,84808,99283,113461,129668,146017,163377,181985,200763,223089,246766,271985,299956,333816,369954,414222,472243,547258,670287,877033,1176476,1480581,1792194,2090029,2348710,2599803,2849571,3060429,3261798,3453383,3623689,3788830,3942252,4075955,4200363,4317733,4444886,4565917,4676758,4782285,4877995,4961214,5041892,5119473,5193059,5263099,5327387,5382589,5432601,5476022,5516555,5551457,5581787,5603833,5620025,5636926,5660518,5706691,5780274,5872794,5964620,6067726,6197933,6321744,6435954,6541377,6642123,6736355,6820872,6905025,6981723,7055096,7125422,7189878,7253297,7311893,7363649,7414048,7458199,7501932,7542742,7584033,7625064,7664403,7702958,7740853,7776638,7816527,7857230,7900473,7951386,8016828,8462537]
Buffer_Size = np.array(Buffer_Size)
plt.plot(Buffer_Size/(1e6), CDF, '-.', color='green', label='DCQCN+Win')

Buffer_Size = [264,3622,7772,11956,16188,20432,24676,28922,33258,37564,42025,46628,51393,56165,60943,65854,71054,76418,82011,87549,93416,99440,105972,112454,119666,126926,134989,143545,152686,163096,174051,186539,199972,214172,230706,249939,271881,297988,329594,369372,413369,461732,512268,563787,614817,668207,719410,773973,827306,880702,935033,988284,1044058,1095379,1146224,1194867,1246680,1297968,1347499,1396143,1450001,1504290,1556255,1609010,1660545,1712674,1761962,1817749,1874095,1928781,1990058,2056653,2120169,2191631,2265367,2350705,2432969,2521749,2614359,2717014,2823283,2941512,3050924,3168373,3309405,3456249,3623043,3810885,4006106,4240027,4437104,4691702,4924200,5149439,5326091,5473459,5613540,5721680,5804158,6740100]
Buffer_Size = np.array(Buffer_Size)
plt.plot(Buffer_Size/(1e6), CDF, '--', color='brown', label='HPCC')

# Buffer_Size = [2040,6497,12687,20330,28159,36395,44686,53184,62156,71096,80249,89914,99789,109620,119353,129370,139716,150421,161220,172368,184414,195985,207895,220021,232846,245928,259650,273037,287600,303713,319303,336492,354504,372891,393647,415739,438666,462606,488577,517411,548504,582369,619207,659289,703386,752611,802270,855020,910980,969974,1028255,1090241,1153822,1221949,1288822,1355253,1422745,1494215,1563006,1636423,1710893,1783756,1863379,1946940,2037569,2130281,2226843,2317989,2413231,2514890,2624098,2738352,2861556,2990497,3120178,3247822,3381495,3529411,3696354,3880507,4081292,4305596,4542321,4822358,5170701,5565651,6001283,6505818,7114269,7800817,8490324,9202728,9910266,10584451,11163890,11740581,12438828,14014009,17376580,26772285]
# Buffer_Size = np.array(Buffer_Size)
# plt.plot(Buffer_Size/1e6, CDF, linestyle=':', color='brown', label='DCQCN+Win-PFC')

Buffer_Size = [16320,33660,51434,68236,86023,103609,120483,137649,155542,173571,192104,211822,231084,252665,274972,298645,323641,350447,379279,411065,446266,484283,524075,568329,614937,666946,721355,778244,838084,903277,969437,1033741,1103123,1171241,1240471,1305752,1370416,1438262,1503980,1563735,1623661,1686253,1746846,1805520,1865005,1921751,1979356,2036244,2092708,2145072,2198824,2251569,2306366,2360278,2414567,2468288,2521915,2578039,2631553,2688634,2742467,2799710,2856483,2913131,2968449,3027291,3083966,3143388,3203144,3265805,3330232,3402644,3475692,3549249,3624592,3704475,3791412,3879230,3977769,4081021,4193080,4304947,4436653,4578069,4742437,4934239,5157987,5407646,5671353,5855525,6001251,6135380,6248591,6350391,6453664,6553325,6666016,6798216,6989310,8967356]
Buffer_Size = np.array(Buffer_Size)
plt.plot(Buffer_Size/1e6, CDF, linestyle='-.', color='gold', label='DCQCN+Win+SFQ')

plt.xlim([0,20])
ax = plt.axes()
for tick in ax.xaxis.get_major_ticks():
	tick.label.set_fontsize(16)
for tick in ax.yaxis.get_major_ticks():
	tick.label.set_fontsize(16)
plt.legend(bbox_to_anchor=(-0.05, 0.97, 1.1, 0.97), loc=3, ncol=3, mode="expand", borderaxespad=0., prop={'size': 18}, frameon=False)
plt.tight_layout()


fig, ax = plt.subplots(figsize=(5,4))
labels = ['BFC', 'DCQCN', 'DCQCN\n+Win', 'HPCC', 'DCQCN\n+Win+SFQ']
spine_Tor= [0, 14.1, 12.4, 6.05, 9.9]
ToR_spine = [0, 0.287, 0.384, 0.42, 1.065]

x = np.arange(len(labels))  # the label locations
width = 0.2  # the width of the bars

rects2 = ax.bar(x - width/2, spine_Tor, width, label='Spine->ToR', hatch='\\\\')
rects1 = ax.bar(x + width/2, ToR_spine, width, label='ToR->Spine', hatch='//')


# Add some text for labels, title and custom x-axis tick labels, etc.
ax.set_ylabel('% of time paused', fontsize=19 )
#ax.set_title('Scores by group and gender')
for tick in ax.xaxis.get_major_ticks():
	tick.label.set_fontsize(14)
for tick in ax.yaxis.get_major_ticks():
	tick.label.set_fontsize(14)
ax.set_xticks(x)
ax.set_xticklabels(labels)
ax.legend(bbox_to_anchor=(-0.05, 0.97, 1.1, 0.97), loc=3, ncol=2, mode="expand", borderaxespad=0., prop={'size': 16}, frameon=False)


fig.tight_layout()

plt.figure(figsize=(8,4))
plt.ylabel("FCT Slow Down", fontsize=17)
plt.xlabel("Flow Size (KB)", fontsize=17)
plt.xscale('log')
plt.yscale('log')

#Flow_Size = [1, 2, 4, 8, 16, 64, 256, 1024, 2048]
#SlowDown = [1.0412102684617224, 1.0954761904761905, 1.1889018691588784, 1.3827981651376147, 1.7365044247787611, 2.6872242647058822, 4.6828170028818441, 6.3067857142857147, 6.6996746368038744]
#plt.plot(Flow_Size, SlowDown, '-', color='blue', label='BFC-95')

#Flow_Size = [1, 2, 4, 8, 16, 64, 256, 1024, 2048]
#SlowDown = [4.2273458789147345, 4.1238095238095234, 4.1068396226415098, 4.0993055555555555, 4.0639957264957269, 3.9552685950413222, 3.8320043103448276, 4.5170842824601367, 36.120930232558138]
#plt.plot(Flow_Size, SlowDown, '-.', color='green', label='DCQCN+Win-95')

Flow_Size = [1, 2, 4, 8, 16, 64, 256, 1024, 2048]
SlowDown = [1.0540837207454206, 1.1335714285714287, 1.2704439252336448, 1.5568807339449542, 2.0728991596638657, 3.5993470149253732, 6.3817934782608692, 8.5850460122699381, 9.1570940819423363]
plt.plot(Flow_Size, SlowDown, '-', color='blue', label='BFC')

Flow_Size = [1, 2, 4, 8, 16, 64, 256, 1024, 2048]
SlowDown = [1.1222636815920397, 1.2204761904761905, 1.3773584905660377, 1.6876126126126125, 2.2476562499999999, 3.8110759493670887, 6.7971491228070171, 9.5252272727272729, 9.1974445146156629]
plt.plot(Flow_Size, SlowDown, linestyle='--', color='black', linewidth=2, label='Ideal-FQ')


Flow_Size = [1, 2, 4, 8, 16, 64, 256, 1024, 2048]
SlowDown = [24.107670925005912, 23.231666666666666, 22.703537735849057, 22.420454545454547, 21.615513392857142, 19.390821678321679, 13.363238916256158, 7.6732265446224259,  69.16752560975609]
plt.plot(Flow_Size, SlowDown, '--', color='red', label='DCQCN')

Flow_Size = [1, 2, 4, 8, 16, 64, 256, 1024, 2048]
SlowDown = [6.5305715992830109, 6.3283333333333331, 6.3028301886792457, 6.2440909090909091, 6.112717391304348, 5.7854338842975208, 5.1270251396648048, 6.4376285347043698, 54.04607773492998]
plt.plot(Flow_Size, SlowDown, '-.', color='green', label='DCQCN+Win')

SlowDown = [4.272577899196262, 4.191190476190476, 4.20625, 4.183715596330275, 4.1315848214285715, 4.153846153846154, 7.159119217081851, 45.753794642857144, 73.98687139863803]
plt.plot(Flow_Size, SlowDown, '--', color='brown', label='HPCC')

Flow_Size = [1, 2, 4, 8, 16, 64, 256, 1024, 2048]
SlowDown = [3.8492948769022388, 3.8433333333333333, 3.8075471698113206, 3.894675925925926, 4.071336206896552, 4.4475308641975309, 5.8954128440366969, 7.4003074739829708, 49.559646401985113]
plt.plot(Flow_Size, SlowDown, linestyle='-.', color='gold', label='DCQCN+Win+SFQ')

ax = plt.axes()
for tick in ax.xaxis.get_major_ticks():
	tick.label.set_fontsize(14)
for tick in ax.yaxis.get_major_ticks():
	tick.label.set_fontsize(14)
plt.legend(bbox_to_anchor=(0.0, 0.97, 0.99, 0.97), loc=3, ncol=3, mode="expand", borderaxespad=0., prop={'size': 16}, frameon=False)
plt.tight_layout()

plt.figure(figsize=(8,4))
plt.ylabel("FCT Slow Down", fontsize=17)
plt.xlabel("Flow Size (KB)", fontsize=17)
plt.xscale('log')
plt.yscale('log')

Flow_Size = [1, 2, 4, 8, 16, 64, 256, 1024, 2048]
SlowDown = [1.0532197268708556, 8.3702380952380953, 8.6045560747663554, 11.528977272727273, 16.511440677966103, 35.075728155339803, 43.386254448398574, 28.541903606102636, 13.8970684803001]
plt.plot(Flow_Size, SlowDown, '-', color='blue', label='BFC')

Flow_Size = [1, 2, 4, 8, 16, 64, 256, 1024, 2048]
SlowDown = [1.8716814159292035, 2.8489285714285715, 4.4806074766355142, 7.924659090909091, 12.80021186440678, 33.423366013071899, 46.234904371584697, 28.789942333785618, 13.31778127458694]
plt.plot(Flow_Size, SlowDown, linestyle='--', color='black', linewidth=2, label='Ideal-FQ')

Flow_Size = [1, 2, 4, 8, 16, 64, 256, 1024, 2048]
SlowDown = [160.49946718238149, 154.30178571428573, 156.20495283018869, 149.0866898148148, 142.31982758620688, 126.55369127516778, 119.97724358974359, 142.23152624309392, 146.2962185534591]
plt.plot(Flow_Size, SlowDown, '--', color='red', label='DCQCN')

Flow_Size = [1, 2, 4, 8, 16, 64, 256, 1024, 2048]
SlowDown = [127.65523598820059, 124.31047619047619, 122.63691588785046, 116.88829545454546, 110.54152173913043, 90.537083333333328, 69.490168539325836, 56.672036082474229, 74.69614567233384]
plt.plot(Flow_Size, SlowDown, '--', color='green', label='DCQCN+Win')

SlowDown = [77.57838122754958, 74.36952380952381, 73.99787735849057, 69.83828828828828, 65.87868303571429, 53.4625, 47.72014170040486, 65.20638820638821, 82.74954206862864]
plt.plot(Flow_Size, SlowDown, '--', color='brown', label='HPCC')
Flow_Size = [1, 2, 4, 8, 16, 64, 256, 1024, 2048]
SlowDown = [75.775893311914743, 70.75, 80.481308411214954, 73.493581081081075, 68.757142857142853, 55.021628289473682, 43.147360248447207, 73.111141304347825, 85.4041803278688]
plt.plot(Flow_Size, SlowDown, linestyle='-.', color='gold', label='DCQCN+Win+SFQ')


ax = plt.axes()
for tick in ax.xaxis.get_major_ticks():
	tick.label.set_fontsize(14)
for tick in ax.yaxis.get_major_ticks():
	tick.label.set_fontsize(14)
plt.legend(bbox_to_anchor=(0.0, 0.97, 0.99, 0.97), loc=3, ncol=3, mode="expand", borderaxespad=0., prop={'size': 16}, frameon=False)
plt.tight_layout()


plt.figure(figsize=(8,4))
plt.ylabel("FCT Slow Down", fontsize=17)
plt.xlabel("Flow Size (KB)", fontsize=17)
#plt.xscale('log')
plt.yscale('log')
ax=plt.axes()
plt.ylim([1,200])

labels = ['1', '2', '4', '8', '16', '64', '256', '1024', '>1024']
spine_Tor= [0.0, 12.4, 11.3]
ToR_spine = [0.0, 0.384, 0.351]

x = np.arange(len(labels))  # the label locations
width = 0.3  # the width of the bars

zero = []
for i in range(len(labels)):
	zero.append(0)
Flow_Size = np.array([1, 2, 4, 8, 16, 64, 256, 1024, 2048])
SlowDown_99 = [1.0539055700609226, 10.621462264150944, 11.153971962616822, 12.948522727272728, 21.946413043478262, 39.167946428571426, 56.938171487603306, 43.002565298507463, 16.124034380305602]
SlowDown_95 = [1.0409246507578456, 1.1202380952380953, 1.2457943925233645, 1.506418918918919, 1.9773913043478262, 3.3389481707317072, 6.1290994623655912, 8.7448688711516542, 8.7526539278131636]
SlowDown_99=np.array(SlowDown_99)
SlowDown_95=np.array(SlowDown_95)
SlowDown_99 = SlowDown_99 - SlowDown_95
ax.bar(x-width/2, SlowDown_95, width, yerr=[zero, SlowDown_99], label='BFC')
#ax.errorbar(Flow_Size, SlowDown_95, yerr=SlowDown_99, lolims=True,color='blue', label='BFC')

SlowDown_99 = [96.287620106408312, 92.103690476190479, 91.028183962264151, 89.151136363636368, 87.689618644067792, 77.868303571428569, 58.525502232142856, 36.126303680981593, 15.629069902461682]
SlowDown_95 = [5.114270065723959, 5.0389285714285714, 4.9807783018867928, 5.2181818181818178, 5.6096491228070171, 6.3706896551724137, 8.6388565891472862, 9.6031250000000004, 8.414279359430604]
SlowDown_99=np.array(SlowDown_99)
SlowDown_95=np.array(SlowDown_95)
SlowDown_99 = SlowDown_99 - SlowDown_95
ax.bar(x+width/2, SlowDown_95, width, yerr=[zero,SlowDown_99], label='SFQ+InfiniteBuffer')
#ax.errorbar(Flow_Size, SlowDown_95, yerr=SlowDown_99, lolims=True,linestyle = '--',color='red', label='SFQ+InfiniteBuffer')

ax.set_xticks(x)
ax.set_xticklabels(labels)
for tick in ax.xaxis.get_major_ticks():
	tick.label.set_fontsize(14)
for tick in ax.yaxis.get_major_ticks():
	tick.label.set_fontsize(14)

ax.legend(bbox_to_anchor=(0.0, 0.97, 0.99, 0.97), loc=3, ncol=3, mode="expand", borderaxespad=0., prop={'size': 16}, frameon=False)
plt.tight_layout()

plt.show()