import pylab as pl
import math
import numpy as np
import sys
import os
from matplotlib import pyplot as plt
import subprocess
import matplotlib.ticker as mticker
from matplotlib.ticker import ScalarFormatter

plt.figure(figsize=(4,3))
plt.ylabel("CDF", fontsize=16)
plt.xlabel("Buffer Occupancy (us)", fontsize=16)
plt.ylim([0.8,1.003])
plt.xlim([0,60])

CDF = [0.01,0.02,0.03,0.04,0.05,0.06,0.07,0.08,0.09,0.1,0.11,0.12,0.13,0.14,0.15,0.16,0.17,0.18,0.19,0.2,0.21,0.22,0.23,0.24,0.25,0.26,0.27,0.28,0.29,0.3,0.31,0.32,0.33,0.34,0.35,0.36,0.37,0.38,0.39,0.4,0.41,0.42,0.43,0.44,0.45,0.46,0.47,0.48,0.49,0.5,0.51,0.52,0.53,0.54,0.55,0.56,0.57,0.58,0.59,0.6,0.61,0.62,0.63,0.64,0.65,0.66,0.67,0.68,0.69,0.7,0.71,0.72,0.73,0.74,0.75,0.76,0.77,0.78,0.79,0.8,0.81,0.82,0.83,0.84,0.85,0.86,0.87,0.88,0.89,0.9,0.91,0.92,0.93,0.94,0.95,0.96,0.97,0.98,0.99, 1.0]
Buffer_Size = [159120,450157,518596,558728,586500,610980,633420,650760,668100,683400,697680,712980,725220,737460,749700,760920,773160,784380,795600,806820,817020,829260,839460,850205,860880,871249,882300,892500,903498,913920,925140,936198,946941,958800,970284,982260,994500,1005720,1017960,1031220,1045500,1058760,1073040,1086918,1102620,1119540,1135260,1153141,1170307,1188300,1205640,1224000,1243380,1262760,1281120,1300201,1319706,1340280,1360680,1380683,1403520,1424940,1446360,1467780,1489200,1510620,1534080,1557540,1579980,1602420,1623840,1647300,1673497,1699320,1723800,1749300,1774800,1802340,1832662,1860480,1893120,1926780,1963500,2003280,2046708,2093040,2140980,2186880,2237566,2291940,2348040,2403643,2463447,2526430,2597940,2691308,2804316,2986949,3299700,4659360]
Buffer_Size = np.array(Buffer_Size)
plt.plot(Buffer_Size/3e5, CDF, '-', color='blue', label='BFC')

Buffer_Size = [0,1090,1090,1090,2180,2180,3270,3270,4360,4360,5450,6540,6540,7630,8720,9810,10900,13080,14170,15260,17440,18530,20710,21800,23980,25070,27250,29430,30520,32700,34880,36380,38150,40330,42510,44690,46870,49050,51087,52997,55231,57770,59950,62130,64310,67580,69760,71940,75210,77674,80660,83930,87200,90470,93740,97010,100280,104640,108103,112270,116630,121421,126440,131890,137340,143880,150420,158050,165997,175490,185670,197693,211460,227810,248471,273229,303020,339246,380165,428370,479600,533120,587510,645847,711049,786560,870733,966404,1091066,1299448,1822851,2754378,3724751,4859104,5750248,6568443,7408273,8193881,8896020,14877612]
Buffer_Size = np.array(Buffer_Size)
plt.plot(Buffer_Size/3e5, CDF, '-.', color='green', label='HPCC')

Buffer_Size = [0,1020,2040,4080,8160,12240,17340,22440,27540,32640,37740,42840,47940,53040,58140,62220,67320,72420,76500,81600,86700,91800,96900,102000,107100,112200,117300,122563,128520,133620,139319,144840,150565,156060,162180,168300,174420,181130,187680,194318,201072,208080,215486,223321,230068,238680,246840,255000,263536,273360,283111,293760,305987,317673,330480,343674,358020,374011,392208,411772,433853,456803,485549,519748,557251,603840,660474,728850,804869,890808,977861,1065900,1158848,1250221,1354560,1476848,1603440,1741692,1889440,2019640,2153220,2300100,2457180,2600823,2736660,2910660,3074959,3271140,3516224,3807067,4173696,4614780,5198939,5908568,6691741,7479173,8231448,8951475,9794212,17982158]
Buffer_Size = np.array(Buffer_Size)
plt.plot(Buffer_Size/3e5, CDF, '--', color='red', label='DCQCN')

Buffer_Size = [0,0,1090,1090,2180,2180,2180,3270,3270,4360,4360,5450,5450,6540,7630,8720,8720,9810,10900,13080,14170,15260,16350,18530,19620,20710,22890,23980,26160,27250,29430,30520,32700,34880,35970,38150,40330,41420,43600,45780,47960,50140,52320,54500,56680,58860,61040,63220,65400,68670,70850,73030,76300,79230,81750,85020,88290,91560,95920,99190,103550,106820,111180,116630,120990,126440,131890,137763,144970,151510,159140,168950,178760,190750,204920,221270,241410,265960,296480,333540,376050,423363,472906,524290,578790,641334,714148,798970,900006,1044220,1353780,2160578,3107475,4213263,5033620,5817849,6624295,7389110,8059803,14027746]
Buffer_Size = np.array(Buffer_Size)
plt.plot(Buffer_Size/3e5, CDF, ':', color='orange', label='HPCC+Sched')



ax = plt.axes()
for tick in ax.xaxis.get_major_ticks():
	tick.label.set_fontsize(14)
for tick in ax.yaxis.get_major_ticks():
	tick.label.set_fontsize(14)
plt.legend(handlelength=1.5,bbox_to_anchor=(-0.3, 1.02, 1.3, 1.02), loc=3, ncol=2, mode="expand", borderaxespad=0., prop={'size': 14}, frameon=False)
plt.tight_layout()

plt.figure(figsize=(4,3))
plt.ylabel("FCT Slow Down", fontsize=16)
plt.xlabel("Flow Size (KB)", fontsize=16)
plt.xscale('log')
plt.yscale('log')
#plt.gca().set_ylim(bottom=1)

Flow_Size = [3,12,48,192,768,3072,12288]
SlowDown = [3.8660902902746264, 12.101914414414415, 25.73079044117647, 38.46059160305344, 35.874466463414635, 19.80738245412844, 12.59138513513513]
#SlowDown = [1.9401319427984516, 6.845454545454546, 30.124662162162164, 41.778551912568304, 38.51766975308642, 15.880486425339367, 10.672056727480046]
plt.plot(Flow_Size, SlowDown, '-', color='blue', label='BFC')

SlowDown = [37.339306872037916, 44.950000000000003, 24.021232876712329, 23.926445578231291, 32.546551724137935, 41.574526515151518, 35.050402557968347]
plt.plot(Flow_Size, SlowDown,  '-.', color='green', label='HPCC')

SlowDown = [84.311817878454775, 83.493750000000006, 58.51672794117647, 48.563155021834064, 27.561369346733667, 31.396985446985447, 36.465393197907048]
plt.plot(Flow_Size, SlowDown, '--', color='red', label='DCQCN')

SlowDown = [8.127284828737185, 10.094859813084112, 10.228326612903226, 24.20478896103896, 51.82944214876033, 46.22179307116105, 38.38762877115526]
plt.plot(Flow_Size, SlowDown,':', color='orange', label='HPCC+Sched')
ax = plt.axes()
ax.get_yaxis().set_ticks([1,2,4,8,16,32,64,128], minor=True)
ax.get_yaxis().set_ticks([], minor=False)
ax.yaxis.set_minor_formatter(mticker.ScalarFormatter())
ax.yaxis.get_minor_formatter().set_scientific(False)
ax.yaxis.set_major_formatter(mticker.ScalarFormatter())
ax.yaxis.get_major_formatter().set_scientific(False)
for tick in ax.yaxis.get_major_ticks():
	tick.label.set_fontsize(14)
for tick in ax.yaxis.get_minor_ticks():
	tick.label.set_fontsize(14)
for tick in ax.xaxis.get_major_ticks():
	tick.label.set_fontsize(14)
plt.legend(handlelength=1.5,bbox_to_anchor=(-0.3, 1.02, 1.3, 1.02), loc=3, ncol=2, mode="expand", borderaxespad=0., prop={'size': 14}, frameon=False)
plt.tight_layout()



plt.figure(figsize=(4,3))
plt.ylabel("CDF", fontsize=16)
plt.xlabel("Buffer Occupancy (us)", fontsize=16)
plt.ylim([0.8,1.03])
plt.xlim([0,40])

CDF = [0.01,0.02,0.03,0.04,0.05,0.06,0.07,0.08,0.09,0.1,0.11,0.12,0.13,0.14,0.15,0.16,0.17,0.18,0.19,0.2,0.21,0.22,0.23,0.24,0.25,0.26,0.27,0.28,0.29,0.3,0.31,0.32,0.33,0.34,0.35,0.36,0.37,0.38,0.39,0.4,0.41,0.42,0.43,0.44,0.45,0.46,0.47,0.48,0.49,0.5,0.51,0.52,0.53,0.54,0.55,0.56,0.57,0.58,0.59,0.6,0.61,0.62,0.63,0.64,0.65,0.66,0.67,0.68,0.69,0.7,0.71,0.72,0.73,0.74,0.75,0.76,0.77,0.78,0.79,0.8,0.81,0.82,0.83,0.84,0.85,0.86,0.87,0.88,0.89,0.9,0.91,0.92,0.93,0.94,0.95,0.96,0.97,0.98,0.99, 1.0]
Buffer_Size = [159120,450157,518596,558728,586500,610980,633420,650760,668100,683400,697680,712980,725220,737460,749700,760920,773160,784380,795600,806820,817020,829260,839460,850205,860880,871249,882300,892500,903498,913920,925140,936198,946941,958800,970284,982260,994500,1005720,1017960,1031220,1045500,1058760,1073040,1086918,1102620,1119540,1135260,1153141,1170307,1188300,1205640,1224000,1243380,1262760,1281120,1300201,1319706,1340280,1360680,1380683,1403520,1424940,1446360,1467780,1489200,1510620,1534080,1557540,1579980,1602420,1623840,1647300,1673497,1699320,1723800,1749300,1774800,1802340,1832662,1860480,1893120,1926780,1963500,2003280,2046708,2093040,2140980,2186880,2237566,2291940,2348040,2403643,2463447,2526430,2597940,2691308,2804316,2986949,3299700,4659360]
Buffer_Size = np.array(Buffer_Size)
plt.plot(Buffer_Size/3e5, CDF, '-', color='blue', label='BFC')

Buffer_Size = [0,1090,2180,3270,4360,5450,6540,7630,9810,10900,13080,15260,18530,20710,22890,26160,28340,31610,34880,37060,40330,43600,46870,50140,53410,56680,59950,64310,67580,71416,75210,79570,83930,88290,92650,97879,102460,107910,113360,119900,126440,133792,141659,149330,158659,168950,179850,192930,207954,224627,244077,265686,291030,318280,347162,376956,407094,434865,462164,488468,517275,543472,570908,597754,625008,653338,681621,709337,737635,766126,795435,826963,859750,891147,924357,959259,995866,1035195,1075189,1118802,1165009,1212684,1269679,1343158,1434560,1527255,1641540,1777987,1967340,2219868,2505446,3001249,3664227,4407450,4943695,5316232,5580178,5765886,5903899,6676587]
Buffer_Size = np.array(Buffer_Size)
plt.plot(Buffer_Size/3e5, CDF, '-.', color='green', label='HPCC')

Buffer_Size = [0,3060,8160,16320,24480,32640,40800,48960,57120,64606,72954,80580,88740,97583,106080,114240,122441,131129,140252,149848,158833,168300,178828,189720,199920,211491,223955,237660,252248,267240,285600,304786,325380,348094,374885,403920,437922,481440,532620,593099,658457,729538,796293,855236,913250,966074,1020972,1070571,1123613,1171624,1220033,1266061,1310343,1352327,1397241,1444243,1490155,1537164,1584384,1632817,1679971,1728285,1780930,1833020,1889001,1941477,1999200,2060654,2118511,2178175,2241363,2298143,2358743,2419440,2479158,2543473,2609635,2676205,2745916,2835479,2929101,3023124,3127455,3240344,3358387,3508694,3683852,3885190,4146872,4416220,4707381,4950495,5155284,5341109,5479253,5566908,5616120,5646720,5689394,7390021]
Buffer_Size = np.array(Buffer_Size)
plt.plot(Buffer_Size/3e5, CDF, '--', color='red', label='DCQCN')

Buffer_Size = [0,1090,2180,2180,3270,3270,4360,5450,6540,7630,8720,9810,10900,13080,15260,16350,18530,20710,22890,25070,27250,29430,32700,34880,37060,39240,42510,44690,47960,50140,53410,55590,58860,61040,64310,67580,70850,74120,77390,80660,85020,88290,92650,97010,101370,105730,110090,115540,120990,127291,133455,140610,147150,155473,164080,173310,183594,195110,207704,221270,236530,252880,271305,290764,311282,333080,356430,380410,405480,431256,456827,483960,509520,536246,562440,590215,618389,647937,677695,709181,743380,779208,816410,858231,904700,961088,1030143,1124545,1242600,1430400,1744843,2253793,3121145,4140408,4803140,5244919,5596146,5842982,6067336,6800426]
Buffer_Size = np.array(Buffer_Size)
plt.plot(Buffer_Size/3e5, CDF, ':', color='orange', label='HPCC + SFQ')



ax = plt.axes()
for tick in ax.xaxis.get_major_ticks():
	tick.label.set_fontsize(14)
for tick in ax.yaxis.get_major_ticks():
	tick.label.set_fontsize(14)
plt.legend(handlelength=1.5,bbox_to_anchor=(-0.3, 1.02, 1.3, 1.02), loc=3, ncol=2, mode="expand", borderaxespad=0., prop={'size': 14}, frameon=False)
plt.tight_layout()

plt.figure(figsize=(4,3))
plt.ylabel("FCT Slow Down", fontsize=16)
plt.xlabel("Flow Size (KB)", fontsize=16)
plt.xscale('log')
plt.yscale('log')
#plt.gca().set_ylim(bottom=1)

Flow_Size = [3,12,48,192,768,3072,12288]
SlowDown = [3.8660902902746264, 12.101914414414415, 25.73079044117647, 38.46059160305344, 35.874466463414635, 19.80738245412844, 12.59138513513513]
#SlowDown = [1.9401319427984516, 6.845454545454546, 30.124662162162164, 41.778551912568304, 38.51766975308642, 15.880486425339367, 10.672056727480046]
plt.plot(Flow_Size, SlowDown, '-', color='blue', label='BFC')

SlowDown = [65.612663670119218, 62.340771028037381, 48.514212328767123, 43.872933070866139, 54.530007530120479, 53.76351893095768, 44.550896421706341]
plt.plot(Flow_Size, SlowDown,  '-.', color='green', label='HPCC')

SlowDown = [102.05339083589405, 101.15580357142858, 73.936034482758615, 61.418912337662334, 51.953263157894739, 52.609372995509943, 48.73350513488657]
plt.plot(Flow_Size, SlowDown, '--', color='red', label='DCQCN')

SlowDown = [27.163855104666123, 26.366118421052633, 27.672185430463575, 37.515270618556698, 59.273804012345678, 53.780122494432071, 47.079254336081888]
plt.plot(Flow_Size, SlowDown,':', color='orange', label='HPCC + SFQ')
ax = plt.axes()
ax.get_yaxis().set_ticks([4, 8,16,32,64,128], minor=True)
ax.get_yaxis().set_ticks([], minor=False)
ax.yaxis.set_minor_formatter(mticker.ScalarFormatter())
ax.yaxis.get_minor_formatter().set_scientific(False)
ax.yaxis.set_major_formatter(mticker.ScalarFormatter())
ax.yaxis.get_major_formatter().set_scientific(False)
for tick in ax.yaxis.get_major_ticks():
	tick.label.set_fontsize(14)
for tick in ax.yaxis.get_minor_ticks():
	tick.label.set_fontsize(14)
for tick in ax.xaxis.get_major_ticks():
	tick.label.set_fontsize(14)
plt.legend(handlelength=1.5,bbox_to_anchor=(-0.3, 1.02, 1.3, 1.02), loc=3, ncol=2, mode="expand", borderaxespad=0., prop={'size': 14}, frameon=False)
plt.tight_layout()


# plt.figure(figsize=(8,3))
# plt.ylabel("CDF", fontsize=17)
# plt.xlabel("Buffer Occupancy (MB)", fontsize=17)
# plt.ylim([0.8,1.003])
# plt.xlim([0,2])

# CDF = [0.01,0.02,0.03,0.04,0.05,0.06,0.07,0.08,0.09,0.1,0.11,0.12,0.13,0.14,0.15,0.16,0.17,0.18,0.19,0.2,0.21,0.22,0.23,0.24,0.25,0.26,0.27,0.28,0.29,0.3,0.31,0.32,0.33,0.34,0.35,0.36,0.37,0.38,0.39,0.4,0.41,0.42,0.43,0.44,0.45,0.46,0.47,0.48,0.49,0.5,0.51,0.52,0.53,0.54,0.55,0.56,0.57,0.58,0.59,0.6,0.61,0.62,0.63,0.64,0.65,0.66,0.67,0.68,0.69,0.7,0.71,0.72,0.73,0.74,0.75,0.76,0.77,0.78,0.79,0.8,0.81,0.82,0.83,0.84,0.85,0.86,0.87,0.88,0.89,0.9,0.91,0.92,0.93,0.94,0.95,0.96,0.97,0.98,0.99, 1.0]
# Buffer_Size = [15300,30600,40800,48960,55080,60834,66300,70380,75480,79560,84660,88740,91800,95880,99960,103020,107100,110160,114240,117300,120360,123420,127500,130560,133620,136680,139740,143348,146880,149940,153000,157080,160140,163200,167280,170340,174420,178500,181560,186660,190740,195840,199920,205020,210120,216240,222360,228480,235620,242760,250920,259080,268260,277440,287640,297143,308040,318240,329460,338640,348840,358020,368220,376380,384883,393720,401880,410040,418200,425340,433500,441660,448800,456960,464100,472260,479400,486878,494700,502250,510000,518160,526320,533787,541620,550800,559980,569160,579360,589560,601800,613020,626280,641580,657900,676260,700740,730320,775200,1152600]
# Buffer_Size = np.array(Buffer_Size)
# plt.plot(Buffer_Size/1e6, CDF, '-', color='blue', label='BFC')

# Buffer_Size = [0,0,1090,1090,1090,2180,2180,2180,2604,3270,3270,4360,4360,4360,5450,5450,6540,7630,7630,8720,9810,10900,11990,13080,14170,15260,16350,17440,18530,20023,21800,22890,23980,25070,26943,28340,29430,30520,32353,33790,34880,35970,38150,39240,40330,42510,43600,45076,46870,47960,50140,51230,53410,54500,56680,57770,59950,61620,63220,65400,67091,68670,70850,73030,75210,77042,79074,81090,83438,85877,88290,90470,92650,95364,98100,100521,103550,106820,109384,112270,115540,119345,123170,126841,130800,135160,140005,144970,150420,155870,162410,169799,177670,187425,197800,210370,226720,249610,287240,654160]
# Buffer_Size = np.array(Buffer_Size)
# plt.plot(Buffer_Size/1e6, CDF, '-.', color='green', label='HPCC')

# Buffer_Size = [0,0,1020,2040,4080,6120,9180,13260,17340,20400,24480,27540,31620,34680,38760,41820,45900,48960,52020,56100,59160,62220,66300,69360,72420,75644,79045,82620,85680,88740,92028,95880,98940,102000,105810,109140,112918,116280,120360,123420,127500,130939,134640,138720,142207,145860,149639,153000,157080,160797,164554,168636,172380,176460,180540,184620,189233,193291,197880,202359,207060,211188,216240,220893,225420,230520,235620,240720,245941,251940,257040,263160,269189,274891,281149,287640,294780,301920,309060,317079,325207,333540,342703,351343,361259,371280,382500,394296,406338,419634,434520,450525,467606,488696,512044,542066,579329,632400,722078,1469464]
# Buffer_Size = np.array(Buffer_Size)
# plt.plot(Buffer_Size/1e6, CDF, '--', color='red', label='DCQCN')


# ax = plt.axes()
# for tick in ax.xaxis.get_major_ticks():
# 	tick.label.set_fontsize(14)
# for tick in ax.yaxis.get_major_ticks():
# 	tick.label.set_fontsize(14)
# plt.legend(bbox_to_anchor=(0.1, 1.02, 0.8, 1.02), loc=3, ncol=3, mode="expand", borderaxespad=0., prop={'size': 16}, frameon=False)
# plt.tight_layout()

# plt.figure(figsize=(8,3))
# plt.ylabel("FCT Slow Down", fontsize=17)
# plt.xlabel("Flow Size (KB)", fontsize=17)
# plt.xscale('log')
# plt.yscale('log')
# plt.gca().set_ylim(bottom=1)

# SlowDown = [1.8404627985000988, 2.0184684684684684, 4.4074166666666663, 6.6460084033613445, 9.269750580046404, 10.239033533260633, 9.1659774436090231]
# plt.plot(Flow_Size, SlowDown, '-', color='blue', label='BFC')

# SlowDown = [2.634918775382693, 2.6974299065420562, 3.2298013245033115, 4.0952674897119339, 16.330216881594374, 37.763711890243904, 35.777601135557134]
# plt.plot(Flow_Size, SlowDown,  '-.', color='green', label='HPCC')

# SlowDown = [4.5514172224401728, 4.5377232142857142, 4.295774647887324, 4.3147972972972974, 5.1028819444444444, 16.432530864197531, 29.433623388005508]
# plt.plot(Flow_Size, SlowDown, '--', color='red', label='DCQCN')
# ax = plt.axes()
# ax.get_yaxis().set_ticks([1,2,4,8,16,32,64], minor=True)
# ax.get_yaxis().set_ticks([], minor=False)
# ax.yaxis.set_minor_formatter(mticker.ScalarFormatter())
# ax.yaxis.get_minor_formatter().set_scientific(False)
# ax.yaxis.set_major_formatter(mticker.ScalarFormatter())
# ax.yaxis.get_major_formatter().set_scientific(False)
# for tick in ax.yaxis.get_major_ticks():
# 	tick.label.set_fontsize(14)
# for tick in ax.yaxis.get_minor_ticks():
# 	tick.label.set_fontsize(14)
# for tick in ax.xaxis.get_major_ticks():
# 	tick.label.set_fontsize(14)
# plt.legend(bbox_to_anchor=(0.1, 1.02, 0.8, 1.02), loc=3, ncol=3, mode="expand", borderaxespad=0., prop={'size': 16}, frameon=False)
# plt.tight_layout()


# fig, (ax1,ax2,ax3)=plt.subplots(1,3,sharey=True,figsize=(8,3))#,gridspec_kw={'hspace':0.1,'wspace':0.1})
# ax1.set_ylabel("FCT SlowDown", fontsize=17)
# fig.text(0.5,0.05, "FlowSize (KB)", ha="center",fontsize=17)
# ax1.set_ylim([1,128])
# ax1.set_xscale('log')
# ax2.set_xscale('log')
# ax3.set_xscale('log')
# ax1.set_yscale('log')
# fig.text(0.3,0.76, "Median", ha="center",fontsize=17)
# fig.text(0.6,0.76, "95 %ile", ha="center",fontsize=17)
# fig.text(0.9,0.76, "99 %ile", ha="center",fontsize=17)

# size = [3,12,48,192,768,3072, 12288]
# SlowDown = [1.0303197137126903, 1.1372727272727272, 1.6591059602649008, 2.0686486486486486, 2.8228618421052634, 3.310940275310835, 3.597672710135285]
# ax1.plot(size,SlowDown, '-', color='blue', label='BFC')

# SlowDown = [1.049737133370227, 1.1677631578947369, 1.6470637583892618, 1.9671348314606742, 3.1511918604651163, 6.592286821705426, 8.8622225525168457]
# ax1.plot(size,SlowDown, '-.', color='green', label='HPCC')

# SlowDown = [1.0568698995605776, 1.175, 1.5687500000000001, 1.7964779005524862, 2.1313960280373832, 2.7582623714652956, 5.51726865548980]
# ax1.plot(size,SlowDown, '--', color='red', label='DCQCN')
# for tick in ax1.xaxis.get_major_ticks():
# 	tick.label.set_fontsize(14)
# for tick in ax1.yaxis.get_major_ticks():
# 	tick.label.set_fontsize(14)
# for tick in ax2.xaxis.get_major_ticks():
# 	tick.label.set_fontsize(14)
# for tick in ax2.yaxis.get_major_ticks():
# 	tick.label.set_fontsize(14)
# for tick in ax3.xaxis.get_major_ticks():
# 	tick.label.set_fontsize(14)
# for tick in ax3.yaxis.get_major_ticks():
# 	tick.label.set_fontsize(14)

# handles, labels = ax1.get_legend_handles_labels()
# plt.figlegend(handles, labels, loc='upper center', ncol=3, labelspacing=0.0, fontsize=16, frameon=False)

# SlowDown = [1.1049018636003172, 1.5288990825688074, 3.2783244680851062, 4.6363387978142079, 6.7663310961968683, 7.9351857062464832, 7.295728670420095]
# ax2.plot(size,SlowDown, '-', color='blue', label='BFC')

# SlowDown = [2.869206114398422, 3.0512731481481481, 3.3651845637583895, 4.1012430939226521, 10.629238095238096, 27.677124183006537, 25.943377976190476]
# ax2.plot(size,SlowDown, '-.', color='green', label='HPCC')

# SlowDown = [7.3091970745517463, 8.0702272727272728, 5.6583916083916082, 5.7144285714285719, 5.3944785276073617, 14.054482299200609, 27.640838068181818]
# ax2.plot(size,SlowDown, '--', color='red', label='DCQCN')

# SlowDown = [1.7614814887288666, 2.0563063063063063, 4.55375, 6.7936507936507935, 9.5851027397260271, 11.017340405198777, 9.554760961436873]
# ax3.plot(size,SlowDown, '-', color='blue', label='BFC')

# SlowDown = [37.339306872037916, 44.950000000000003, 24.021232876712329, 23.926445578231291, 32.546551724137935, 41.574526515151518, 35.05040255796834]
# ax3.plot(size,SlowDown, '-.', color='green', label='HPCC')

# SlowDown = [84.311817878454775, 83.493750000000006, 58.51672794117647, 48.563155021834064, 27.561369346733667, 31.396985446985447, 36.465393197907048]
# ax3.plot(size,SlowDown, '--', color='red', label='DCQCN')

# fig.tight_layout(rect=[0.0,0.1,1,0.9])


plt.show()