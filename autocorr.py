import pylab as pl
import math
import numpy as np
import sys
import os
from matplotlib import pyplot as plt
import subprocess
import matplotlib.ticker as mticker
from matplotlib.ticker import ScalarFormatter

plt.figure(figsize=(8,3))
plt.ylabel("Autocorrelation\n(fairshare rate)", fontsize=17)
plt.xlabel("Feedback Delay (us)", fontsize=17)

x=[0,1,2,4,6,8,10,12,16,20,28,36,44,52,60]
y=[1.0, 0.87179144372651052, 0.84070218414426012, 0.82652655492259897, 0.81910835668026094, 0.81055831810433343, 0.80216750185818853, 0.79438273028358997, 0.78285889911613316, 0.7740772700050903, 0.75737627369808347, 0.74610236127948304, 0.73770655283008657, 0.72927951187620299, 0.72066675050815954]
plt.plot(x,y, '-.', color='green', label="10Gbps")
y=[1.0, 0.84003902059104618, 0.82329433692476039, 0.79762828482074077, 0.78057471097572906, 0.76829388560335554, 0.75672387067387448, 0.74823804318834142, 0.73296815174601204, 0.72251176901243275, 0.70304855648066722, 0.68599365240588095, 0.6711633481029049, 0.66164326435655008, 0.65132995442449948]
plt.plot(x,y, '-', color='blue',label="40Gbps")
y=[1.0, 0.81767069409380277, 0.79045495176378888, 0.75930969088366362, 0.73891508485760038, 0.72339269432695352, 0.70910352053333814, 0.69536814851287121, 0.6759963062595995, 0.65875716593091349, 0.63392930100588885, 0.61586156384922464, 0.60765612239945821, 0.60051522648277966, 0.58867593435327314]
plt.plot(x,y,'--', color='red',label="100Gbps")



ax = plt.axes()
for tick in ax.xaxis.get_major_ticks():
	tick.label.set_fontsize(14)
for tick in ax.yaxis.get_major_ticks():
	tick.label.set_fontsize(14)
plt.legend(bbox_to_anchor=(0.1, 1.02, 0.8, 1.02), loc=3, ncol=3, mode="expand", borderaxespad=0., prop={'size': 16}, frameon=False)
plt.tight_layout()
plt.ylim([0,1])
plt.xlim([0,60])


plt.figure(figsize=(8,3))
plt.ylabel("CDF", fontsize=17)
plt.xlabel("Queue Length(us)", fontsize=17)
plt.ylim([0.0,1.03])
#plt.xlim([0,70])

CDF = [0.01,0.02,0.03,0.04,0.05,0.06,0.07,0.08,0.09,0.1,0.11,0.12,0.13,0.14,0.15,0.16,0.17,0.18,0.19,0.2,0.21,0.22,0.23,0.24,0.25,0.26,0.27,0.28,0.29,0.3,0.31,0.32,0.33,0.34,0.35,0.36,0.37,0.38,0.39,0.4,0.41,0.42,0.43,0.44,0.45,0.46,0.47,0.48,0.49,0.5,0.51,0.52,0.53,0.54,0.55,0.56,0.57,0.58,0.59,0.6,0.61,0.62,0.63,0.64,0.65,0.66,0.67,0.68,0.69,0.7,0.71,0.72,0.73,0.74,0.75,0.76,0.77,0.78,0.79,0.8,0.81,0.82,0.83,0.84,0.85,0.86,0.87,0.88,0.89,0.9,0.91,0.92,0.93,0.94,0.95,0.96,0.97,0.98,0.99, 1.0]
Buffer_Size = [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1020,1020,1020,1020,1020,2040,2040,2040,2040,2040,2040,2040,2040,2040,2040,2040,2040,3060,3060,3060,3060,3060,3060,3060,3060,3060,3060,3060,3060,3060,3060,3060,3060,3060,3060,3060,3060,3060,3060,4080,4080,4080,4080,4080,4080,4080,4080,4080,4080,4080,4080,4080,4080,4080,4080,4080,5100,5100,5100,5100,5100,6120,6120,6120,7140,7140,7140,7140,8160,8160,8160,8160,8160,9180,9180,9180,10200,10200,11220,21420]
Buffer_Size = np.array(Buffer_Size)
plt.plot(Buffer_Size/(1275.0), CDF,  '-.', color='green', label="10Gbps")


Buffer_Size = [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1020,1020,2040,3060,4080,5100,6120,6120,7140,8160,8160,9180,9180,9180,10200,10200,10200,10200,10200,11220,11220,11220,11220,11220,11220,11220,11220,12240,12240,12240,12240,12240,12240,12240,12240,12240,12240,12240,13260,13260,13260,13260,13260,13260,13260,13260,13260,14280,14280,14280,14280,14280,14280,14280,14280,15300,15300,15300,15300,16320,16320,17340,18360,18360,18360,19380,19380,20400,21420,21420,22440,22440,23460,23460,24480,26520,29580,30600,89760]
Buffer_Size = np.array(Buffer_Size)
plt.plot(Buffer_Size/(4.0*1275.0), CDF,'-', color='blue',label="40Gbps")

Buffer_Size = [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1020,1020,1020,2040,6120,9180,12240,15300,16320,18360,18360,19380,20400,21420,22440,22440,23460,24480,24480,25500,25500,26520,26520,26520,27540,27540,27540,27540,28560,28560,28560,28560,29580,29580,29580,29580,29580,30600,30600,30600,30600,30600,31620,31620,31620,31620,31620,32640,32640,32640,33660,33660,33660,33660,34680,34680,35700,35700,35700,36720,37740,38760,38760,38760,39780,40800,42840,45900,47940,48960,49980,51000,53040,54060,56100,58140,228480]
Buffer_Size = np.array(Buffer_Size)
plt.plot(Buffer_Size/(10.0*1275.0), CDF,'--', color='red',label="100Gbps")


ax = plt.axes()
for tick in ax.xaxis.get_major_ticks():
	tick.label.set_fontsize(14)
for tick in ax.yaxis.get_major_ticks():
	tick.label.set_fontsize(14)
plt.legend(bbox_to_anchor=(0.1, 1.02, 0.8, 1.02), loc=3, ncol=3, mode="expand", borderaxespad=0., prop={'size': 16}, frameon=False)
plt.tight_layout()

plt.figure(figsize=(8,3))
plt.ylabel("CDF", fontsize=17)
plt.xlabel("Queue Length (us)", fontsize=17)
plt.ylim([0.0,1.03])
#plt.xlim([0,70])

CDF = [0.01,0.02,0.03,0.04,0.05,0.06,0.07,0.08,0.09,0.1,0.11,0.12,0.13,0.14,0.15,0.16,0.17,0.18,0.19,0.2,0.21,0.22,0.23,0.24,0.25,0.26,0.27,0.28,0.29,0.3,0.31,0.32,0.33,0.34,0.35,0.36,0.37,0.38,0.39,0.4,0.41,0.42,0.43,0.44,0.45,0.46,0.47,0.48,0.49,0.5,0.51,0.52,0.53,0.54,0.55,0.56,0.57,0.58,0.59,0.6,0.61,0.62,0.63,0.64,0.65,0.66,0.67,0.68,0.69,0.7,0.71,0.72,0.73,0.74,0.75,0.76,0.77,0.78,0.79,0.8,0.81,0.82,0.83,0.84,0.85,0.86,0.87,0.88,0.89,0.9,0.91,0.92,0.93,0.94,0.95,0.96,0.97,0.98,0.99, 1.0]
Buffer_Size = [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1020,1020,1020,1020,1020,1020,2040,2040,2040,2040,2040,2040,2040,2040,2040,2040,2040,2040,2040,3060,3060,3060,3060,3060,3060,3060,3060,3060,3060,3060,3060,3060,3060,3060,3060,3060,3060,3060,3060,3060,3060,3060,3060,3060,3060,4080,4080,4080,4080,4080,4080,4080,4080,4080,4080,4080,4080,4080,4080,4080,4080,4080,4080,4080,4080,4080,4080,4080,4080,5100,5100,5100,5100,5100,5100,5100,6120,21420]
Buffer_Size = np.array(Buffer_Size)
plt.plot(Buffer_Size/(1275.0), CDF,  '-.', color='green', label="10Gbps")


Buffer_Size = [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1020,1020,2040,3060,3060,4080,5100,6120,6120,7140,8160,8160,8160,9180,9180,9180,9180,9180,10200,10200,10200,10200,10200,11220,11220,11220,11220,11220,11220,11220,11220,11220,11220,12240,12240,12240,12240,12240,12240,12240,12240,12240,12240,12240,12240,12240,13260,13260,13260,13260,13260,13260,13260,13260,13260,13260,13260,13260,13260,13260,14280,14280,14280,14280,14280,14280,14280,14280,15300,15300,15300,15300,15300,16320,16320,17340,20400,91800]
Buffer_Size = np.array(Buffer_Size)
plt.plot(Buffer_Size/(4.0*1275.0), CDF,'-', color='blue',label="40Gbps")

Buffer_Size = [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1020,1020,3060,4080,5100,7140,9180,10200,11220,12240,13260,14280,15300,16320,17340,18360,19380,20400,20400,21420,21420,22440,22440,23460,23460,24480,24480,24480,25500,25500,25500,26520,26520,26520,26520,27540,27540,27540,27540,28560,28560,28560,28560,29580,29580,29580,29580,29580,30600,30600,30600,30600,30600,31620,31620,31620,31620,31620,32640,32640,32640,32640,33660,33660,33660,33660,34680,34680,34680,35700,35700,36720,36720,37740,39780,44880,226440]
Buffer_Size = np.array(Buffer_Size)
plt.plot(Buffer_Size/(10.0*1275.0), CDF,'--', color='red',label="100Gbps")


ax = plt.axes()
for tick in ax.xaxis.get_major_ticks():
	tick.label.set_fontsize(14)
for tick in ax.yaxis.get_major_ticks():
	tick.label.set_fontsize(14)
plt.legend(bbox_to_anchor=(0.1, 1.02, 0.8, 1.02), loc=3, ncol=3, mode="expand", borderaxespad=0., prop={'size': 16}, frameon=False)
plt.tight_layout()
plt.show()