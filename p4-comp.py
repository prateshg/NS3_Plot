import pylab as pl
import math
import numpy as np
import sys
import os
from matplotlib import pyplot as plt
import subprocess
import matplotlib.ticker as mticker
from matplotlib.ticker import ScalarFormatter

#Google 65+INCAST

plt.figure(figsize=(4,3))
plt.ylabel("FCT Slow Down", fontsize=16)
plt.xlabel("Flow Size (KB)", fontsize=16)
plt.xscale('log')
plt.yscale('log')
plt.gca().set_ylim(bottom=1)

Flow_Size = [1,2,4,8,16,64,256,1024,4096]
SlowDown = [10.16691153269701, 10.981666666666667, 11.354672897196261, 16.152662037037036, 26.880088495575222, 41.9492125984252, 55.899534574468085, 37.87865566037736, 14.652324159021406]
plt.plot(Flow_Size, SlowDown, '-', color='blue', label='BFC')

SlowDown = [72.027397393882651, 69.122976190476194, 68.608018867924528, 66.427893518518516, 63.961184210526319, 56.078457446808514, 64.073117154811712, 108.44189189189188, 81.822014622258322]
plt.plot(Flow_Size, SlowDown,  '-.', color='green', label='HPCC')

SlowDown = [126.55198519515477, 122.16833333333334, 121.82676886792453, 119.1658256880734, 113.58056722689075, 101.65195312500001, 82.68113738738738, 104.44777508090615, 105.07501813346228]
plt.plot(Flow_Size, SlowDown, '--', color='red', label='DCQCN')

SlowDown = [2.194623389494549, 3.3286904761904763, 5.434696261682243, 9.299099099099099, 15.938970588235295, 34.25208333333333, 59.268316831683165, 44.58372140522876, 16.31128566576087]
plt.plot(Flow_Size, SlowDown, ':', color='black', label='IdealFQ')

#SlowDown = [8.1422532265774379, 8.2588095238095232, 8.1824074074074069, 8.0761261261261268, 8.7123893805309738, 11.132753164556963, 84.920606060606062, 97.087581168831164, 75.512964684014875]
#plt.plot(Flow_Size, SlowDown, '-.', color='brown', label='HPCC+SFQ')

SlowDown = [93.177521423212099, 89.373809523809527, 88.060280373831773, 87.055795454545461, 82.129310344827587, 72.228614457831327, 65.358786610878667, 93.463412162162157, 42.02912754303599]
plt.plot(Flow_Size, SlowDown, '--', color='orange', label='DCTCP')
ax = plt.axes()
ax.get_yaxis().set_ticks([1,2,4,8,16,32,64,128,256], minor=True)
ax.get_yaxis().set_ticks([], minor=False)
ax.yaxis.set_minor_formatter(mticker.ScalarFormatter())
ax.yaxis.get_minor_formatter().set_scientific(False)
ax.yaxis.set_major_formatter(mticker.ScalarFormatter())
ax.yaxis.get_major_formatter().set_scientific(False)
for tick in ax.yaxis.get_major_ticks():
	tick.label.set_fontsize(14)
for tick in ax.yaxis.get_minor_ticks():
	tick.label.set_fontsize(14)
for tick in ax.xaxis.get_major_ticks():
	tick.label.set_fontsize(14)
plt.legend(handlelength=1.5,bbox_to_anchor=(-0.3, 1.02, 1.3, 1.02), loc=3, ncol=3, mode="expand", borderaxespad=0., prop={'size': 14}, frameon=False)
plt.tight_layout()

plt.figure(figsize=(4,3))
plt.ylabel("CDF", fontsize=16)
plt.xlabel("Buffer Occupancy (us)", fontsize=16)
plt.ylim([0.8,1.03])
plt.xlim([0,40])

CDF = [0.01,0.02,0.03,0.04,0.05,0.06,0.07,0.08,0.09,0.1,0.11,0.12,0.13,0.14,0.15,0.16,0.17,0.18,0.19,0.2,0.21,0.22,0.23,0.24,0.25,0.26,0.27,0.28,0.29,0.3,0.31,0.32,0.33,0.34,0.35,0.36,0.37,0.38,0.39,0.4,0.41,0.42,0.43,0.44,0.45,0.46,0.47,0.48,0.49,0.5,0.51,0.52,0.53,0.54,0.55,0.56,0.57,0.58,0.59,0.6,0.61,0.62,0.63,0.64,0.65,0.66,0.67,0.68,0.69,0.7,0.71,0.72,0.73,0.74,0.75,0.76,0.77,0.78,0.79,0.8,0.81,0.82,0.83,0.84,0.85,0.86,0.87,0.88,0.89,0.9,0.91,0.92,0.93,0.94,0.95,0.96,0.97,0.98,0.99, 1.0]
Buffer_Size = [249811,781776,958614,1029915,1079781,1120644,1155465,1183650,1210926,1233819,1253635,1274106,1291506,1309476,1326121,1341942,1358141,1372475,1387012,1400092,1413976,1427145,1439963,1452628,1465071,1477431,1488869,1500728,1512922,1524703,1536894,1548532,1560349,1572315,1583560,1595332,1606437,1617535,1627792,1637599,1648019,1658864,1668923,1679334,1689280,1699672,1710113,1720159,1730582,1741083,1751085,1761738,1771642,1781888,1792342,1803156,1813439,1824204,1835616,1846642,1857268,1867733,1878696,1890484,1901172,1913090,1924500,1936304,1947754,1959004,1971221,1983328,1995657,2008345,2020711,2034395,2048580,2062376,2076766,2091545,2105940,2122345,2139229,2156132,2172821,2190523,2208860,2227988,2249534,2271175,2294045,2318585,2346517,2378302,2411296,2449340,2495307,2560141,2664855,3604497]
Buffer_Size = np.array(Buffer_Size)
plt.plot(Buffer_Size/3e5, CDF, '-', color='blue', label='BFC-old')

Buffer_Size = [198430,532440,626452,670608,699307,724533,745772,763980,780429,796443,810216,824160,836524,848762,861703,873378,885360,896580,907800,919020,930454,941460,951531,962103,972188,983043,993508,1004019,1014891,1025691,1036254,1047270,1059297,1071350,1082220,1093900,1105651,1118100,1130552,1143420,1156680,1170224,1184817,1199254,1215020,1229392,1245541,1260720,1276465,1294380,1310700,1328040,1344602,1361829,1380060,1398097,1416780,1435320,1455361,1476132,1495320,1514546,1534889,1554480,1573996,1595987,1615815,1637262,1659115,1682381,1706916,1731207,1757587,1786020,1813560,1842120,1872931,1905703,1938907,1971796,2006462,2048930,2092544,2138852,2191084,2244546,2301889,2359094,2417805,2475881,2535551,2598397,2667709,2743226,2821233,2910099,3021688,3169549,3443592,4721296]
Buffer_Size = np.array(Buffer_Size)
plt.plot(Buffer_Size/3e5, CDF, '-', color='red', label='BFC-P4')

Buffer_Size = [8720,16232,22901,29056,34940,40691,46208,51665,57093,62515,67868,73261,78468,83821,89022,94376,99740,105132,110876,116603,122423,128594,134677,141282,148300,155457,163031,170908,179418,188481,198157,208606,220014,232249,245955,261224,278833,299519,323196,351977,387027,428990,474644,525985,580798,634302,685364,740079,793411,843537,894062,943390,990811,1037291,1083088,1130840,1178700,1227406,1274804,1322177,1370357,1414372,1458421,1505856,1553709,1600095,1644815,1690813,1739108,1790453,1847580,1909840,1973901,2040459,2108868,2182022,2260562,2346903,2439969,2544298,2646961,2765282,2891466,3021643,3161644,3322431,3488275,3687272,3898597,4099947,4314727,4531112,4809573,5122604,5393182,5590178,5733911,5854983,5958590,6721697]
Buffer_Size = np.array(Buffer_Size)
plt.plot(Buffer_Size/3e5, CDF, '-.', color='green', label='HPCC')

Buffer_Size = [2040,6700,13113,20209,28405,37436,46321,55606,65688,75579,86080,96654,107845,119413,131112,143792,156695,171280,186819,203356,220562,240281,261539,286947,311505,341707,377389,417712,472771,546314,667310,870241,1085210,1251270,1400551,1538068,1673765,1795707,1914139,2021564,2125584,2212556,2309604,2414690,2512791,2613417,2709161,2804514,2906564,2998064,3093759,3184544,3281556,3377501,3476720,3576502,3674141,3772343,3861340,3946693,4022558,4108338,4189823,4271362,4354990,4429858,4511980,4591654,4680864,4764456,4847453,4922818,4995849,5061080,5127664,5189692,5250674,5324521,5387024,5446025,5498111,5539008,5577040,5608287,5633111,5665416,5718337,5817681,5950975,6141572,6342062,6539769,6741425,6946297,7112014,7268944,7420471,7573770,7734787,8364395]
Buffer_Size = np.array(Buffer_Size)
plt.plot(Buffer_Size/3e5, CDF, '--', color='red', label='DCQCN')

Buffer_Size = [2040,8160,15300,23585,32640,40800,49649,58140,67120,75696,85142,93840,102637,111306,120360,128137,136680,144840,153124,161598,170340,179642,188700,197880,207060,216240,224538,233708,242760,251940,262021,272340,281736,291849,302940,313570,324200,335046,345780,356918,368653,381199,393844,406278,419342,432860,447654,462198,477854,492972,508787,523712,539706,557424,574260,593192,610314,631380,651780,672916,694620,717614,742033,767040,794471,824391,854935,885203,918655,956282,997141,1042911,1093973,1151580,1212661,1288624,1382100,1494770,1687745,2224461,3126553,4123885,5139033,6177848,6998270,7854634,8691855,9479564,10201744,10561469,10728045,10887122,11034115,11190098,11374921,11657483,12299907,15253793,19481373,34182910]
Buffer_Size = np.array(Buffer_Size)
plt.plot(Buffer_Size/3e5, CDF, ':', color='black', label='IdealFQ')

#Buffer_Size=[5450,11092,16504,21608,26160,30709,35266,39560,43958,48332,52573,56886,61155,65400,69610,73834,78058,82269,86471,90767,95272,99748,104352,108968,113668,118579,123562,128857,134641,140230,146074,152246,158931,165827,173053,180835,188894,197536,206581,216656,227080,238163,249900,262224,275769,290136,305777,321719,338322,355774,373855,392326,411104,429621,449066,468933,488866,508841,529536,550224,570466,590415,611108,632782,654172,676651,699564,722876,747187,771598,797977,826142,853711,884236,916449,952216,988394,1027147,1069953,1117511,1170254,1231283,1301851,1390660,1489053,1611053,1763254,1952154,2209112,2564839,3092997,3691028,4288638,4852562,5239413,5492098,5655569,5768801,5865724,6574642]
#Buffer_Size = np.array(Buffer_Size)
#plt.plot(Buffer_Size/1e6, CDF, '-.', color='brown', label='HPCC+SFQ')

Buffer_Size=[20329,40606,58558,75881,92655,108827,125381,142173,159368,177082,195331,214482,234893,258174,283964,311630,344208,380352,420588,465803,515618,572147,629889,688643,749307,806620,865078,921711,978182,1032672,1087230,1143211,1199607,1254218,1313518,1375461,1434250,1493790,1548914,1604637,1660346,1720310,1775811,1831773,1886400,1942074,1998014,2053002,2106685,2160313,2213391,2269578,2329911,2390898,2455350,2523385,2591464,2661694,2732609,2807119,2886630,2968730,3049526,3128418,3208913,3293613,3379935,3474726,3568651,3663157,3761915,3861622,3964067,4079446,4200085,4307202,4424674,4543084,4663413,4772996,4884630,4998954,5112913,5208838,5292275,5375311,5458626,5542147,5617124,5686743,5750051,5814473,5876095,5943015,6018731,6099046,6192420,6328149,6643620,8586865]
Buffer_Size = np.array(Buffer_Size)
plt.plot(Buffer_Size/3e5, CDF, '--', color='orange', label='DCTCP')

ax = plt.axes()
for tick in ax.xaxis.get_major_ticks():
	tick.label.set_fontsize(14)
for tick in ax.yaxis.get_major_ticks():
	tick.label.set_fontsize(14)
plt.legend(handlelength=1.5,bbox_to_anchor=(-0.3, 1.02, 1.34, 1.02), loc=3, ncol=3, mode="expand", borderaxespad=0., prop={'size': 14}, frameon=False)
plt.tight_layout()

fig, ax = plt.subplots(figsize=(3,3))
labels = ['BFC', 'HPCC', 'DCQCN', 'DCTCP']#, 'HPCC+SFQ',]
spine_Tor= [0, 6.5, 9.98, 12.44]#, 4.5]
ToR_spine = [0, 0.0, 0.33, 0.0]#, 0.0]

x = np.arange(len(labels))  # the label locations
width = 0.3  # the width of the bars

rects2 = ax.bar(x - width/2, spine_Tor, width, label='Spine->ToR', hatch='\\\\')
rects1 = ax.bar(x + width/2, ToR_spine, width, label='ToR->Spine', hatch='//')


# Add some text for labels, title and custom x-axis tick labels, etc.
ax.set_ylabel('% of time paused', fontsize=16 )
#ax.set_title('Scores by group and gender')
for tick in ax.xaxis.get_major_ticks():
	tick.label.set_fontsize(14)
for tick in ax.yaxis.get_major_ticks():
	tick.label.set_fontsize(14)
ax.set_xticks(x)
ax.set_xticklabels(labels, rotation=30)
ax.legend(handlelength=1.5,bbox_to_anchor=(-0.15, 0.97, 1.23, 0.97), loc=3, ncol=1, mode="expand", borderaxespad=0., prop={'size': 14}, frameon=False)
plt.tight_layout()
fig.tight_layout()


fig, ax = plt.subplots(figsize=(3,3))
labels = ['BFC', 'HPCC', 'DCQCN', 'IdealFQ', 'DCTCP']#,'HPCC+SFQ',]
plt.yscale('log')
spine_Tor= [68,117.5, 132.5, 82, 87.8]#, 109.5]
ninrty_five = [87, 170, 261, 96, 117]
ToR_spine = [95, 212, 357, 128, 151.4]#, 183]

x = np.arange(len(labels))  # the label locations
width = 0.25  # the width of the bars

rects2 = ax.bar(x - width, spine_Tor, width, label='Avg', hatch='\\\\')
rects3 = ax.bar(x, ninrty_five, width, label='95 pct', hatch='-')
rects1 = ax.bar(x + width, ToR_spine, width, label='99 pct', hatch='//')


# Add some text for labels, title and custom x-axis tick labels, etc.
ax.set_ylabel('FCT SlowDown', fontsize=16 )
#ax.set_title('Scores by group and gender')
ax.get_yaxis().set_ticks([32, 64,128,256,512], minor=True)
ax.get_yaxis().set_ticks([], minor=False)
ax.yaxis.set_minor_formatter(mticker.ScalarFormatter())
ax.yaxis.get_minor_formatter().set_scientific(False)
ax.yaxis.set_major_formatter(mticker.ScalarFormatter())
ax.yaxis.get_major_formatter().set_scientific(False)
for tick in ax.yaxis.get_major_ticks():
	tick.label.set_fontsize(14)
for tick in ax.yaxis.get_minor_ticks():
	tick.label.set_fontsize(14)
for tick in ax.xaxis.get_major_ticks():
	tick.label.set_fontsize(14)
ax.set_xticks(x)
ax.set_xticklabels(labels,rotation=30)
ax.legend(bbox_to_anchor=(-0.2, 0.97, 1.2, 0.97), loc=3, ncol=2, mode="expand", borderaxespad=0., prop={'size': 14}, frameon=False)

fig.tight_layout()


#GOOGLE 65

plt.figure(figsize=(4,3))
plt.ylabel("FCT Slow Down", fontsize=16)
plt.xlabel("Flow Size (KB)", fontsize=16)
plt.xscale('log')
plt.yscale('log')
plt.gca().set_ylim(bottom=1)

Flow_Size = [1,2,4,8,16,64,256,1024,4096]
SlowDown = [1.1251842115744612, 1.2178571428571427, 1.3630841121495327, 1.648394495412844, 2.161217948717949, 3.671478873239437, 6.569094488188976, 8.836479591836735, 9.50988389626055]
plt.plot(Flow_Size, SlowDown, '-', color='blue', label='BFC')

SlowDown = [3.3950374936201952, 3.3667452830188678, 3.3864386792452832, 3.3836805555555554, 3.4396739130434781, 3.5637335526315788, 7.2695733532934135, 38.179823825503355, 55.93924660120846]
plt.plot(Flow_Size, SlowDown,  '-.', color='green', label='HPCC')

SlowDown = [5.5680991784268254, 5.3908333333333331, 5.3823113207547166, 5.3576388888888893, 5.2713983050847455, 5.0280075187969926, 4.7675480769230774, 6.4582838983050843, 35.664839307787389]
plt.plot(Flow_Size, SlowDown, '--', color='red', label='DCQCN')

SlowDown = [1.1329463076555406, 1.2298809523809524, 1.3778301886792452, 1.6767201834862386, 2.2194327731092436, 3.770727848101266, 6.690982142857143, 9.191323138297872, 9.17022893772893]
plt.plot(Flow_Size, SlowDown, ':', color='black', label='IdealFQ')

#SlowDown = [2.6244971321596431, 2.6467857142857141, 2.6856132075471697, 2.8106818181818181, 3.0769957983193277, 3.7068877551020409, 9.1218658892128275, 41.835255960729313, 59.446952073991028]
#plt.plot(Flow_Size, SlowDown, '-.', color='brown', label='HPCC+SFQ')

SlowDown = [3.95550972304066, 3.8992857142857145, 3.9047169811320757, 3.8863425925925927, 3.8943750000000001, 3.8832908163265305, 4.9159254807692312, 12.054099678456591, 16.138358695652173]
plt.plot(Flow_Size, SlowDown, '--', color='orange', label='DCTCP')

ax = plt.axes()
ax.get_yaxis().set_ticks([1,2,4,8,16,32,64], minor=True)
ax.get_yaxis().set_ticks([], minor=False)
ax.yaxis.set_minor_formatter(mticker.ScalarFormatter())
ax.yaxis.get_minor_formatter().set_scientific(False)
ax.yaxis.set_major_formatter(mticker.ScalarFormatter())
ax.yaxis.get_major_formatter().set_scientific(False)
for tick in ax.yaxis.get_major_ticks():
	tick.label.set_fontsize(14)
for tick in ax.yaxis.get_minor_ticks():
	tick.label.set_fontsize(14)
for tick in ax.xaxis.get_major_ticks():
	tick.label.set_fontsize(14)
plt.legend(handlelength=1.5,bbox_to_anchor=(-0.3, 1.02, 1.3, 1.02), loc=3, ncol=3, mode="expand", borderaxespad=0., prop={'size': 14}, frameon=False)
plt.tight_layout()

plt.figure(figsize=(4,3))
plt.ylabel("CDF", fontsize=17)
plt.xlabel("Buffer Occupancy (us)", fontsize=17)
plt.ylim([0.8,1.03])
plt.xlim([0,8])

CDF = [0.01,0.02,0.03,0.04,0.05,0.06,0.07,0.08,0.09,0.1,0.11,0.12,0.13,0.14,0.15,0.16,0.17,0.18,0.19,0.2,0.21,0.22,0.23,0.24,0.25,0.26,0.27,0.28,0.29,0.3,0.31,0.32,0.33,0.34,0.35,0.36,0.37,0.38,0.39,0.4,0.41,0.42,0.43,0.44,0.45,0.46,0.47,0.48,0.49,0.5,0.51,0.52,0.53,0.54,0.55,0.56,0.57,0.58,0.59,0.6,0.61,0.62,0.63,0.64,0.65,0.66,0.67,0.68,0.69,0.7,0.71,0.72,0.73,0.74,0.75,0.76,0.77,0.78,0.79,0.8,0.81,0.82,0.83,0.84,0.85,0.86,0.87,0.88,0.89,0.9,0.91,0.92,0.93,0.94,0.95,0.96,0.97,0.98,0.99, 1.0]
Buffer_Size = [5448,12240,17753,22440,26520,29955,33660,36720,39780,42840,45900,48207,51000,53293,56100,58261,60494,63083,65280,67447,69647,71796,74257,76500,78784,81083,83640,85755,88159,90780,93129,95880,98091,100505,103291,106080,108463,111180,114240,117300,119798,122801,125827,129379,132600,135967,139740,143312,147292,151303,155480,159886,164220,168926,173560,177951,182834,187680,192780,197880,202846,207715,212936,217570,222360,226984,231665,236705,241740,246245,251104,256429,261365,266220,271320,276420,281520,286620,291841,296820,302064,308040,313362,319521,325552,331646,337924,344760,351847,359417,367416,376502,386625,396935,410040,423904,440866,464100,502022,740234]
Buffer_Size = np.array(Buffer_Size)
plt.plot(Buffer_Size/3e5, CDF, '-', color='blue', label='BFC-old')

Buffer_Size = [4080,8307,12362,16320,19380,21921,24480,27191,29580,31796,34084,36168,38441,40800,42840,44880,46920,48960,51000,53040,54823,56582,58441,60470,62343,64260,66300,68340,70380,72420,74460,76500,78540,80580,82620,84660,86948,89327,91800,93998,96900,99188,102000,104364,107227,110160,113220,116280,119462,122888,126480,130560,133911,137829,141780,145860,149940,154020,158100,162180,166260,170466,174569,178720,182993,187002,191612,195714,199808,204000,208085,212467,217128,221340,225547,229937,234399,238956,243623,248259,253008,258060,263234,268610,273804,279480,285002,291307,297840,304745,312246,319726,328592,338042,349728,363241,379324,401223,433795,683086]
Buffer_Size = np.array(Buffer_Size)
plt.plot(Buffer_Size/3e5, CDF, '-', color='red', label='BFC-P4')



Buffer_Size = [2621,5791,8858,11755,14558,17226,19818,22353,24828,27262,29484,31814,34006,36184,38334,40440,42510,44595,46694,48810,50921,52981,55049,57094,59091,61085,63082,65117,67092,69056,71064,73030,75053,77088,79144,81176,83216,85200,87291,89345,91390,93440,95485,97588,99745,101866,104044,106226,108353,110505,112769,115044,117360,119686,122000,124399,126814,129319,131834,134371,136992,139583,142214,144939,147816,150642,153538,156469,159575,162705,165930,169296,172656,176097,179680,183443,187427,191434,195738,199987,204516,209251,214130,219467,224976,230821,237116,243674,250579,258378,266967,276409,286915,299136,313552,330003,351094,380713,428231,900491]
Buffer_Size = np.array(Buffer_Size)
plt.plot(Buffer_Size/3e5, CDF, '-.', color='green', label='HPCC')

Buffer_Size = [1020,4080,7140,10854,14555,18396,22333,26270,30303,34290,38264,42066,45990,50152,54188,58007,62096,66078,70086,73912,77801,81694,85535,89306,93163,97056,100903,104882,109238,113292,117290,121384,125526,129378,133497,137425,141781,146056,150066,154065,158407,162805,167105,171512,175701,180333,184776,189163,193638,198265,203085,207763,212621,217576,222658,227569,232861,238098,243226,248610,253977,259353,265339,271205,276852,283184,289421,296379,302788,309934,316433,323383,330443,337610,345044,353021,361444,369415,377895,387119,396596,407090,417899,428561,440851,452250,464781,478626,493001,508176,525123,543678,564181,589637,617804,652983,699471,756228,856110,1677952]
Buffer_Size = np.array(Buffer_Size)
plt.plot(Buffer_Size/3e5, CDF, '--', color='red', label='DCQCN')

Buffer_Size = [1276,5266,10200,16320,22440,28560,34803,41400,47879,54060,60180,66300,72541,78661,84660,90780,96217,102000,107438,113220,118510,124440,129540,135044,140973,146880,152396,158100,163613,169320,174862,180665,186540,191894,197880,204000,209287,215220,221158,226570,232560,238099,244030,249944,256020,262140,268207,274509,281417,287764,294702,301166,308040,314647,322028,329310,336053,343505,350488,357491,365416,373320,381837,390260,398259,406980,415606,425138,434130,443311,452456,461426,471611,481680,492910,504003,516764,528521,541966,554880,569654,584460,600063,617063,634639,653984,675361,697357,722160,748031,778386,810878,845960,885387,931430,991569,1067203,1157827,1302726,2130058]
Buffer_Size = np.array(Buffer_Size)
plt.plot(Buffer_Size/3e5, CDF, ':', color='black', label='IdealFQ')

#Buffer_Size=[2180,4360,6540,8720,10900,13080,15260,17440,19620,21561,23534,25526,27493,29515,31496,33297,35234,37138,39044,40810,42709,44681,46443,48242,50140,51922,53796,55626,57506,59316,61141,62982,64800,66666,68519,70342,72231,74113,75987,77840,79719,81639,83519,85468,87392,89342,91278,93223,95223,97243,99312,101386,103550,105707,107928,110124,112359,114597,116821,119174,121560,123996,126409,128948,131603,134307,137038,139818,142745,145707,148730,151816,155030,158315,161661,165140,168805,172544,176374,180313,184448,188771,193377,198316,203444,208694,214439,220604,227166,234282,242293,250674,260344,271323,284361,299577,319333,345773,388123,770619]
#Buffer_Size = np.array(Buffer_Size)
#plt.plot(Buffer_Size/1e6, CDF, '-.', color='brown', label='HPCC+SFQ')

Buffer_Size=[2253,6288,10426,14251,18209,22103,25904,29595,33149,36704,40158,43481,46779,49992,53270,56526,59650,62772,65964,69025,72094,75053,78113,80997,83852,86693,89619,92462,95317,98160,101020,103837,106699,109565,112458,115291,118165,121086,123970,126886,129761,132648,135646,138687,141694,144711,147702,150747,153821,156884,160009,163114,166305,169550,172782,176049,179381,182813,186295,189781,193253,196806,200489,204244,208109,212022,215953,219929,224136,228344,232648,237094,241797,246616,251624,256750,262220,267556,273081,278971,284929,291433,298083,305030,312477,320327,328691,337626,346847,356829,367940,380078,393417,408684,426799,448590,476051,512393,574883,1082165]
Buffer_Size = np.array(Buffer_Size)
plt.plot(Buffer_Size/3e5, CDF, '--', color='orange', label='DCTCP')

ax = plt.axes()
for tick in ax.xaxis.get_major_ticks():
	tick.label.set_fontsize(14)
for tick in ax.yaxis.get_major_ticks():
	tick.label.set_fontsize(14)
plt.legend(handlelength=1.5,bbox_to_anchor=(-0.3, 1.02, 1.34, 1.02), loc=3, ncol=3, mode="expand", borderaxespad=0., prop={'size': 14}, frameon=False)
plt.tight_layout()


#FB65 + Incast

plt.figure(figsize=(4,3))
plt.ylabel("FCT Slow Down", fontsize=16)
plt.xlabel("Flow Size (KB)", fontsize=16)
plt.xscale('log')
plt.yscale('log')
plt.gca().set_ylim(bottom=1)

Flow_Size = [3,12,48,192,768,3072,12288]
SlowDown = [9.968198645242596, 13.399801587301587, 36.875792253521126, 45.53770491803279, 35.28944300518135, 18.48051051709027, 11.9272247419455]
plt.plot(Flow_Size, SlowDown, '-', color='blue', label='BFC-Old')

SlowDown = [1.4984127293265297, 7.184259259259259, 19.872794117647057, 39.00583791208791, 35.814524147727276, 22.50970757430489, 13.3063273102110]
plt.plot(Flow_Size, SlowDown, '-', color='red', label='BFC-P4')

SlowDown = [65.612663670119218, 62.340771028037381, 48.514212328767123, 43.872933070866139, 54.530007530120479, 53.76351893095768, 44.550896421706341]
plt.plot(Flow_Size, SlowDown,  '-.', color='green', label='HPCC')

SlowDown = [102.05339083589405, 101.15580357142858, 73.936034482758615, 61.418912337662334, 51.953263157894739, 52.609372995509943, 48.73350513488657]
plt.plot(Flow_Size, SlowDown, '--', color='red', label='DCQCN')

#SlowDown = [1.8508831388266729, 7.790427927927928, 32.89294217687075, 46.58319209039548, 37.49082446808511, 16.923015873015874, 12.24825753101004]
SlowDown = [1.87, 6.993068181818182, 29.2843537414966, 39.68254189944134, 36.17449059561129, 16.848830538393646, 12.2032581269804]
plt.plot(Flow_Size, SlowDown, ':', color='black', label='IdealFQ')

#SlowDown = [4.9908333333333337, 4.942708333333333, 8.7454861111111111, 54.817959770114939, 73.351117886178855, 57.3434036939314, 48.290261809547616]
#plt.plot(Flow_Size, SlowDown, '-.', color='brown', label='HPCC+SFQ')

SlowDown = [85.374285714285719, 77.400877192982449, 60.229051724137932, 56.950907821229052, 62.861604361370716, 36.228673861620344, 25.960575391964724]
plt.plot(Flow_Size, SlowDown, '--', color='orange', label='DCTCP')

ax = plt.axes()
ax.get_yaxis().set_ticks([1,2,4,8,16,32,64,128], minor=True)
ax.get_yaxis().set_ticks([], minor=False)
ax.yaxis.set_minor_formatter(mticker.ScalarFormatter())
ax.yaxis.get_minor_formatter().set_scientific(False)
ax.yaxis.set_major_formatter(mticker.ScalarFormatter())
ax.yaxis.get_major_formatter().set_scientific(False)
for tick in ax.yaxis.get_major_ticks():
	tick.label.set_fontsize(14)
for tick in ax.yaxis.get_minor_ticks():
	tick.label.set_fontsize(14)
for tick in ax.xaxis.get_major_ticks():
	tick.label.set_fontsize(14)
plt.legend(handlelength=1.5,bbox_to_anchor=(-0.3, 1.02, 1.3, 1.02), loc=3, ncol=3, mode="expand", borderaxespad=0., prop={'size': 14}, frameon=False)
plt.tight_layout()


#FB65
plt.figure(figsize=(4,3))
plt.ylabel("FCT Slow Down", fontsize=16)
plt.xlabel("Flow Size (KB)", fontsize=16)
plt.xscale('log')
plt.yscale('log')
plt.gca().set_ylim(bottom=1)


Flow_Size = [3,12,48,192,768,3072,12288]
SlowDown = [1.1456028214652652, 1.7086363636363637, 4.11501677852349, 6.214691235059761, 8.621459899749373, 9.639779173419774, 9.21822292023605]
plt.plot(Flow_Size, SlowDown, '-', color='blue', label='BFC-old')

SlowDown = [1.1291760876344925, 1.6839912280701754, 4.2595, 6.56472972972973, 9.383650914634146, 10.63718694096601, 10.11577129531855]
plt.plot(Flow_Size, SlowDown, '-', color='red', label='BFC-P4')

SlowDown = [2.634918775382693, 2.6974299065420562, 3.2298013245033115, 4.0952674897119339, 16.330216881594374, 37.763711890243904, 35.777601135557134]
plt.plot(Flow_Size, SlowDown,  '-.', color='green', label='HPCC')

SlowDown = [4.5543899162320214, 4.5517523364485983, 4.2536458333333336, 4.3237664473684214, 5.1780400572246066, 16.866340152565879, 30.282063220310672]
plt.plot(Flow_Size, SlowDown, '--', color='red', label='DCQCN')

SlowDown = [1.1532142857142857, 1.784288990825688, 4.320598591549296, 6.482795698924731, 9.726727207977207, 10.39993163172288, 10.204249011857707]
plt.plot(Flow_Size, SlowDown, ':', color='black', label='IdealFQ')

#SlowDown = [2.1066972042331384, 2.3795833333333332, 3.380536912751678, 4.2059834123222748, 18.442021276595746, 38.617090592334492, 36.913010301411674]
#plt.plot(Flow_Size, SlowDown, '-.', color='brown', label='HPCC+SFQ')

SlowDown = [3.4244465738423027, 3.5284722222222222, 3.7558277027027027, 4.2114718614718614, 8.2120098039215694, 14.97517523364486, 13.071036216085272]
plt.plot(Flow_Size, SlowDown, '--', color='orange', label='DCTCP')

ax = plt.axes()
ax.get_yaxis().set_ticks([1,2,4,8,16,32,64], minor=True)
ax.get_yaxis().set_ticks([], minor=False)
ax.yaxis.set_minor_formatter(mticker.ScalarFormatter())
ax.yaxis.get_minor_formatter().set_scientific(False)
ax.yaxis.set_major_formatter(mticker.ScalarFormatter())
ax.yaxis.get_major_formatter().set_scientific(False)
for tick in ax.yaxis.get_major_ticks():
	tick.label.set_fontsize(14)
for tick in ax.yaxis.get_minor_ticks():
	tick.label.set_fontsize(14)
for tick in ax.xaxis.get_major_ticks():
	tick.label.set_fontsize(14)
plt.legend(handlelength=1.5,bbox_to_anchor=(-0.3, 1.02, 1.3, 1.02), loc=3, ncol=3, mode="expand", borderaxespad=0., prop={'size': 14}, frameon=False)
plt.tight_layout()

plt.figure(figsize=(4,3))
plt.ylabel("FCT Slow Down", fontsize=16)
plt.xlabel("Flow Size (KB)", fontsize=16)
plt.xscale('log')
plt.yscale('log')

Flow_Size = [3,12,48,192,768,3072,12288]
SlowDown = [9.431223180189757, 11.410630841121495, 37.67939189189189, 42.98262614678899, 37.55050623052959, 16.928660669665167, 11.916141836464673]
plt.plot(Flow_Size, SlowDown, '-', color='blue', label='BFC')


SlowDown = [65.612663670119218, 62.340771028037381, 48.514212328767123, 43.872933070866139, 54.530007530120479, 53.76351893095768, 44.550896421706341]
plt.plot(Flow_Size, SlowDown,  '-.', color='green')#, label='HPCC')

SlowDown = [27.163855104666123, 26.366118421052633, 27.672185430463575, 37.515270618556698, 59.273804012345678, 53.780122494432071, 47.079254336081888]
plt.plot(Flow_Size, SlowDown,  '--', color='red', label='HPCC+SFQ')

SlowDown = [36.847081243335047, 45.123967889908258, 24.057619863013699, 24.06639344262295, 35.409131355932203, 42.810354573484069, 35.726523323615162]
plt.plot(Flow_Size, SlowDown, ':', color='black')#, label='HPCC + Perfect Retransmission')

#SlowDown = [3.4556002414988507, 4.5433486238532108, 18.849751655629138, 36.950067567567565, 42.387974051896208, 20.24007723304231, 13.972763012690821]
#plt.plot(Flow_Size, SlowDown, '--', color='orange', label='DCTCP+SS')

#SlowDown = [1.045242463699495, 1.0502232142857142, 1.3301020408163264, 1.8505851063829788, 30.851995798319329, 12.27309718969555, 13.920889406487232]
#plt.plot(Flow_Size, SlowDown, '-', color='purple', label='BFC+SFF')
ax = plt.axes()
ax.get_yaxis().set_ticks([8,16,32,64], minor=True)
ax.get_yaxis().set_ticks([], minor=False)
ax.yaxis.set_minor_formatter(mticker.ScalarFormatter())
ax.yaxis.get_minor_formatter().set_scientific(False)
ax.yaxis.set_major_formatter(mticker.ScalarFormatter())
ax.yaxis.get_major_formatter().set_scientific(False)
for tick in ax.yaxis.get_major_ticks():
	tick.label.set_fontsize(14)
for tick in ax.yaxis.get_minor_ticks():
	tick.label.set_fontsize(14)
for tick in ax.xaxis.get_major_ticks():
	tick.label.set_fontsize(14)
plt.legend(handlelength=1.5,bbox_to_anchor=(-0.1, 1.02, 1.1, 1.02), loc=3, ncol=2, mode="expand", borderaxespad=0., prop={'size': 14}, frameon=False)
plt.tight_layout()


plt.figure(figsize=(4,3))
plt.ylabel("FCT Slow Down", fontsize=16)
plt.xlabel("Flow Size (KB)", fontsize=16)
plt.xscale('log')
plt.yscale('log')

Flow_Size = [3,12,48,192,768,3072,12288]
SlowDown = [1.1479761904761905, 1.7425438596491227, 4.078298611111111, 6.254166666666666, 9.43569587628866, 10.530746336996337, 9.637086563307493]
plt.plot(Flow_Size, SlowDown, '-', color='blue')#, label='BFC')

SlowDown = [2.634918775382693, 2.6974299065420562, 3.2298013245033115, 4.0952674897119339, 16.330216881594374, 37.763711890243904, 35.777601135557134]
plt.plot(Flow_Size, SlowDown,  '-.', color='green', label='HPCC')

SlowDown = [2.0720984759671746, 2.3055180180180179, 3.2936188811188809, 4.1746921182266012, 19.166617122473244, 39.116148208469056, 36.953357497138498]
plt.plot(Flow_Size, SlowDown,  '--', color='red')#, label='HPCC + SFQ')

SlowDown = [2.634918775382693, 2.6974299065420562, 3.2298013245033115, 4.0952674897119339, 16.330216881594374, 37.763711890243904, 35.777601135557134]
plt.plot(Flow_Size, SlowDown, ':', color='black', label='HPCC + Perfect Retrans.')

#SlowDown = [2.9183782774480131, 3.6964130434782607, 8.0635906040268459, 11.124795081967212, 14.397446236559139, 15.688842226613966, 11.946356564810939]
#plt.plot(Flow_Size, SlowDown, '--', color='orange')#, label='HPCC + Perfect Retrans.')


#SlowDown = [1.0437876889341373, 1.0486363636363636, 1.326158940397351, 1.8032992565055761, 2.652922971114168, 4.9422853971386287, 14.243349710165418]
#plt.plot(Flow_Size, SlowDown, '-', color='purple')#, label='BFC+SFF')
ax = plt.axes()
ax.get_yaxis().set_ticks([1,2,4,8,16,32], minor=True)
ax.get_yaxis().set_ticks([], minor=False)
ax.yaxis.set_minor_formatter(mticker.ScalarFormatter())
ax.yaxis.get_minor_formatter().set_scientific(False)
ax.yaxis.set_major_formatter(mticker.ScalarFormatter())
ax.yaxis.get_major_formatter().set_scientific(False)
for tick in ax.yaxis.get_major_ticks():
	tick.label.set_fontsize(14)
for tick in ax.yaxis.get_minor_ticks():
	tick.label.set_fontsize(14)
for tick in ax.xaxis.get_major_ticks():
	tick.label.set_fontsize(14)
plt.legend(handlelength=1.5,bbox_to_anchor=(-0.1, 1.02, 0.9, 1.02), loc=3, ncol=1, mode="expand", borderaxespad=0., prop={'size': 14}, frameon=False)
plt.tight_layout()


#Google 65+Incast

fig, (ax1,ax2, ax3)=plt.subplots(1,3,sharey=True,figsize=(8,3))#,gridspec_kw={'hspace':0.1,'wspace':0.1})
ax1.set_ylabel("FCT SlowDown", fontsize=16)
fig.text(0.5,0.05, "FlowSize (KB)", ha="center",fontsize=16)
ax1.set_xscale('log')
ax2.set_xscale('log')
ax3.set_xscale('log')
ax1.set_yscale('log')
fig.text(0.3,0.27, "Avg.", ha="center",fontsize=16)
fig.text(0.6,0.27, "95pct", ha="center",fontsize=16)
fig.text(0.9,0.27, "99pct", ha="center",fontsize=16)

size = [1,2,4,8,16,64,256,1024,4096]
Flow_Size = [1,2,4,8,16,64,256,1024,4096]
SlowDown = [1.421467873682157, 1.4576387055069626, 1.5399913401489593, 1.7169236290848426, 2.0648932347307842, 2.8026938042423115, 4.023900784539169, 4.328098209137123, 4.13131291803499]
ax1.plot(size,SlowDown, '-', color='blue', label='BFC-old')

SlowDown = [1.3305077892297192, 1.3686441675978684, 1.430418398856932, 1.5536127551387624, 1.8174758366425412, 2.508238363903628, 3.926634532597918, 4.821495155346049, 5.0191269170894]
ax1.plot(size,SlowDown, '-', color='red', label='BFC-P4')

SlowDown = [5.689795231571951, 5.514015414621698, 5.511455260124527, 5.434357075428677, 5.328662608053012, 5.049181164142682, 5.809371189404491, 15.485096194053536, 26.143191945424856]
ax1.plot(size,SlowDown, '-.', color='green', label='HPCC')

SlowDown = [12.46499123483775, 12.24301587168818, 12.199008741217188, 12.168855905562738, 11.786256730448079, 10.88501815382898, 9.209052652887305, 9.994183253036228, 16.017162918082377]
ax1.plot(size,SlowDown, '--', color='red', label='DCQCN')

SlowDown = [1.0701529503721414, 1.1389001834405712, 1.236444886440073, 1.4231378813202633, 1.7562224118324277, 2.5760829716249107, 4.038698858123425, 4.1800517301064914, 4.11964169543166]
ax1.plot(size,SlowDown, ':', color='black', label='IdealFQ')

SlowDown = [9.221410267997754, 8.915608484018481, 8.878641594060678, 8.691147239429265, 8.421406703655402, 7.71745759307902, 7.298471771214754, 11.363149339653178, 11.526892074642403]
ax1.plot(size,SlowDown, '--', color='orange', label='DCTCP')

ax = ax1
ax.get_yaxis().set_ticks([1,2,4,8,16,32,64,128], minor=True)
ax.get_yaxis().set_ticks([], minor=False)
ax.yaxis.set_minor_formatter(mticker.ScalarFormatter())
ax.yaxis.get_minor_formatter().set_scientific(False)
ax.yaxis.set_major_formatter(mticker.ScalarFormatter())
ax.yaxis.get_major_formatter().set_scientific(False)
for tick in ax.yaxis.get_major_ticks():
	tick.label.set_fontsize(14)
for tick in ax.yaxis.get_minor_ticks():
	tick.label.set_fontsize(14)
for tick in ax.xaxis.get_major_ticks():
	tick.label.set_fontsize(14)
for tick in ax2.xaxis.get_major_ticks():
	tick.label.set_fontsize(14)
for tick in ax2.yaxis.get_major_ticks():
	tick.label.set_fontsize(14)
for tick in ax3.xaxis.get_major_ticks():
	tick.label.set_fontsize(14)
for tick in ax3.yaxis.get_major_ticks():
	tick.label.set_fontsize(14)

handles, labels = ax1.get_legend_handles_labels()
plt.figlegend(handles, labels, loc='upper center', ncol=5, labelspacing=0.0, fontsize=14, frameon=False)



#Median
# SlowDown = [1.0305970149253731, 1.0526190476190476, 1.0820754716981131, 1.1405681818181819, 1.2458705357142856, 1.5012396694214876, 2.2069368131868132, 2.9507190265486725, 3.529538084315431]
# ax2.plot(size,SlowDown, '-', color='blue', label='BFC')

# SlowDown = [1.1548913043478262, 1.1747619047619047, 1.2123820754716981, 1.2835585585585585, 1.3984649122807018, 1.6636278195488723, 2.2635964912280704, 6.5563785046728968, 23.403305865330321]
# ax2.plot(size,SlowDown, '-.', color='green', label='HPCC')

# SlowDown = [1.3000427588401415, 1.3172619047619047, 1.3481132075471698, 1.4100694444444444, 1.5057112068965517, 1.7258278145695365, 2.1356142241379312, 2.635556464811784, 5.387299035369775]
# ax2.plot(size,SlowDown, '--', color='red', label='DCQCN')

# SlowDown = [1.0329027925899594, 1.056309523809524, 1.0877358490566038, 1.151590909090909, 1.26796875, 1.5418445121951219, 2.2288590604026846, 2.918816348195329, 3.2878867206092335]
# ax2.plot(size,SlowDown, ':', color='black', label='IdealFQ')

# SlowDown = [1.3319243637232645, 1.3420238095238095, 1.372196261682243, 1.4271788990825689, 1.535593220338983, 1.7760135135135136, 2.2744117647058824, 3.7937500000000002, 9.0381369112274115]
# ax2.plot(size,SlowDown, '--', color='orange', label='DCTCP')


SlowDown = [1.1143143891687657, 1.1992857142857143, 1.3412037037037037, 1.6207207207207208, 2.119565217391304, 3.7262878787878786, 6.75563063063063, 8.992965204236006, 8.15784292972]
ax2.plot(size,SlowDown, '-', color='blue', label='BFC')

SlowDown = [1.0886887923821666, 1.167142857142857, 1.2911214953271029, 1.5427083333333333, 1.995021186440678, 3.5794871794871796, 7.076666666666667, 10.75793601003764, 12.01157061152661]
ax2.plot(size,SlowDown, '-', color='red', label='BFC')

SlowDown = [37.040001792685842, 35.50416666666667, 35.292688679245281, 34.474541284403671, 32.932190265486724, 28.925590551181102, 26.35053475935829, 62.299149761336515, 61.4918503630705]
ax2.plot(size,SlowDown, '-.', color='green', label='HPCC')

SlowDown = [75.648428203094014, 73.716071428571425, 72.785377358490564, 71.848536036036037, 68.830022321428572, 60.213306451612901, 47.230890804597699, 45.984729916897507, 62.95777847571189]
ax2.plot(size,SlowDown, '--', color='red', label='DCQCN')

SlowDown = [1.1539046553619092, 1.3111904761904762, 1.536438679245283, 1.9716101694915253, 2.7667410714285716, 4.657722929936305, 7.969270833333334, 8.61639705882353, 8.277584708948]
ax2.plot(size,SlowDown, ':', color='black', label='IdealFQ')

SlowDown = [52.980573895378363, 50.947857142857146, 50.504716981132077, 49.243119266055047, 47.135760869565217, 41.459038461538462, 35.489505347593585, 50.171257961783439, 29.43841886269070]
ax2.plot(size,SlowDown, '--', color='orange', label='DCTCP')


SlowDown = [9.750891185725097, 10.028095238095238, 11.229088785046729, 15.328490990990991, 27.13845338983051, 42.17552083333333, 55.15674212598425, 38.64633152173913, 15.5747651006711]
ax3.plot(Flow_Size, SlowDown, '-', color='blue', label='BFC')

SlowDown = [11.985181098017579, 12.47107142857143, 13.851415094339623, 15.680855855855857, 20.543141592920353, 34.225309917355375, 54.16242647058824, 42.28583445491252, 20.1359923011120]
ax3.plot(Flow_Size, SlowDown, '-', color='red', label='BFC')

SlowDown = [72.027397393882651, 69.122976190476194, 68.608018867924528, 66.427893518518516, 63.961184210526319, 56.078457446808514, 64.073117154811712, 108.44189189189188, 81.822014622258322]
ax3.plot(Flow_Size, SlowDown,  '-.', color='green', label='HPCC')

SlowDown = [126.55198519515477, 122.16833333333334, 121.82676886792453, 119.1658256880734, 113.58056722689075, 101.65195312500001, 82.68113738738738, 104.44777508090615, 105.07501813346228]
ax3.plot(Flow_Size, SlowDown, '--', color='red', label='DCQCN')

SlowDown = [2.048564088265753, 3.215595238095238, 4.9647196261682245, 8.40822072072072, 14.567948717948719, 30.410127737226276, 57.86421052631579, 37.10460209003215, 15.7485402684563]
ax3.plot(Flow_Size, SlowDown, ':', color='black', label='IdealFQ')

SlowDown = [93.177521423212099, 89.373809523809527, 88.060280373831773, 87.055795454545461, 82.129310344827587, 72.228614457831327, 65.358786610878667, 93.463412162162157, 42.02912754303599]
ax3.plot(Flow_Size, SlowDown, '--', color='orange', label='DCTCP')

fig.tight_layout(rect=[0.0,0.1,1,0.9])



#Google 65

fig, (ax1,ax2, ax3)=plt.subplots(1,3,sharey=True,figsize=(8,3))#,gridspec_kw={'hspace':0.1,'wspace':0.1})
ax1.set_ylabel("FCT SlowDown", fontsize=16)
fig.text(0.5,0.05, "FlowSize (KB)", ha="center",fontsize=16)
ax1.set_xscale('log')
ax2.set_xscale('log')
ax3.set_xscale('log')
ax1.set_yscale('log')
fig.text(0.3,0.27, "Avg.", ha="center",fontsize=16)
fig.text(0.6,0.27, "95pct", ha="center",fontsize=16)
fig.text(0.9,0.27, "99pct", ha="center",fontsize=16)

size = [1,2,4,8,16,64,256,1024,4096]
Flow_Size = [1,2,4,8,16,64,256,1024,4096]
SlowDown = [1.0363722876133992, 1.0626400960558742, 1.0997792033442384, 1.1746913792507174, 1.3104054008401989, 1.6565354174922189, 2.4993718583937414, 3.3125622029232975, 3.83409994819086]
ax1.plot(size,SlowDown, '-', color='blue', label='BFC-old')

SlowDown = [1.0317256835128574, 1.0588811124147077, 1.0955210782188973, 1.1679549832363532, 1.2988394877329636, 1.6587495334054403, 2.6330787021198057, 3.5945618467178795, 4.1936923744843035]
ax1.plot(size,SlowDown, '-', color='red', label='BFC-P4')

SlowDown = [1.3372627253139977, 1.3449659720991711, 1.3705454922469649, 1.4184004559667875, 1.5039175659606316, 1.706993788305496, 2.417541388355947, 8.44243085539878, 18.67568771362800]
ax1.plot(size,SlowDown, '-.', color='green', label='HPCC')

SlowDown = [1.556328952675619, 1.5495913013316231, 1.5612925668200792, 1.5916401395457818, 1.644596070635629, 1.7564879708459362, 2.026980805010843, 2.5357113267955516, 7.388002322758134]
ax1.plot(size,SlowDown, '--', color='red', label='DCQCN')

SlowDown = [1.0380278288332012, 1.0652713214814422, 1.1042907421254387, 1.1823322935324803, 1.3244461989077414, 1.6796622077225036, 2.51216531599252, 3.2633720324018176, 3.669183454276804]
ax1.plot(size,SlowDown, ':', color='black', label='IdealFQ')

SlowDown = [1.4247800752843267, 1.4307107608300609, 1.4512688227852053, 1.4884516910087038, 1.5583802311967665, 1.7189521133735355, 2.167952872390713, 3.63475862245893, 6.5425096443566275]
ax1.plot(size,SlowDown, '--', color='orange', label='DCTCP')

ax = ax1
ax.get_yaxis().set_ticks([1,2,4,8,16,32], minor=True)
ax.get_yaxis().set_ticks([], minor=False)
ax.yaxis.set_minor_formatter(mticker.ScalarFormatter())
ax.yaxis.get_minor_formatter().set_scientific(False)
ax.yaxis.set_major_formatter(mticker.ScalarFormatter())
ax.yaxis.get_major_formatter().set_scientific(False)
for tick in ax.yaxis.get_major_ticks():
	tick.label.set_fontsize(14)
for tick in ax.yaxis.get_minor_ticks():
	tick.label.set_fontsize(14)
for tick in ax.xaxis.get_major_ticks():
	tick.label.set_fontsize(14)
for tick in ax2.xaxis.get_major_ticks():
	tick.label.set_fontsize(14)
for tick in ax2.yaxis.get_major_ticks():
	tick.label.set_fontsize(14)
for tick in ax3.xaxis.get_major_ticks():
	tick.label.set_fontsize(14)
for tick in ax3.yaxis.get_major_ticks():
	tick.label.set_fontsize(14)

handles, labels = ax1.get_legend_handles_labels()
plt.figlegend(handles, labels, loc='upper center', ncol=5, labelspacing=0.0, fontsize=14, frameon=False)

SlowDown = [1.0876195348471134, 1.1527380952380952, 1.2488207547169812, 1.4421296296296295, 1.7896367521367522, 2.7475892857142856, 4.74547619047619, 6.351094890510949, 6.7825195312]
ax2.plot(size,SlowDown, '-', color='blue', label='BFC')

SlowDown = [1.0741038512824537, 1.1357142857142857, 1.2266509433962265, 1.409375, 1.7353260869565217, 2.7517857142857145, 4.8668202764976956, 6.645733890214797, 7.07853897656623]
ax2.plot(size,SlowDown, '-', color='red', label='BFC-P4')

SlowDown = [2.4075639808551879, 2.394047619047619, 2.417056074766355, 2.4587155963302751, 2.5386752136752135, 2.7652663934426229, 4.2208453757225435, 25.146937751004018, 41.008795053680984]
ax2.plot(size,SlowDown, '-.', color='green', label='HPCC')

SlowDown = [3.6623387610478542, 3.5800000000000001, 3.5557783018867926, 3.574074074074074, 3.5743303571428573, 3.5239932885906042, 3.6239224137931036, 4.5459227467811161, 24.931796162020]
ax2.plot(size,SlowDown, '--', color='red', label='DCQCN')

SlowDown = [1.0916020010241463, 1.158095238095238, 1.2572429906542055, 1.4571100917431192, 1.8190217391304349, 2.771439393939394, 4.799345238095238, 6.424829286798179, 6.63108437935843]
ax2.plot(size,SlowDown, ':', color='black', label='IdealFQ')

SlowDown = [2.8121552675124106, 2.7788095238095236, 2.7939858490566039, 2.8085227272727273, 2.8591594827586206, 2.9815740740740742, 3.7061507936507936, 8.3652577937649877, 11.9448650427913]
ax2.plot(size,SlowDown, '--', color='orange', label='DCTCP')


SlowDown = [1.1253231901352425, 1.2166666666666666, 1.360495283018868, 1.6421171171171172, 2.1649122807017545, 3.6983895705521475, 6.408026960784314, 8.583731155778894, 8.62321567106]
ax3.plot(Flow_Size, SlowDown, '-', color='blue', label='BFC')

SlowDown = [1.1052846500139437, 1.1919047619047618, 1.3314252336448598, 1.6052083333333333, 2.1013888888888888, 3.759296875, 6.701315789473684, 8.981198003327787, 9.23994597839135]
ax3.plot(size,SlowDown, '-', color='red', label='BFC-P4')

SlowDown = [3.3950374936201952, 3.3667452830188678, 3.3864386792452832, 3.3836805555555554, 3.4396739130434781, 3.5637335526315788, 7.2695733532934135, 38.179823825503355, 55.93924660120846]
ax3.plot(Flow_Size, SlowDown,  '-.', color='green', label='HPCC')

SlowDown = [5.5680991784268254, 5.3908333333333331, 5.3823113207547166, 5.3576388888888893, 5.2713983050847455, 5.0280075187969926, 4.7675480769230774, 6.4582838983050843, 35.664839307787389]
ax3.plot(Flow_Size, SlowDown, '--', color='red', label='DCQCN')

SlowDown = [1.1329572162689718, 1.2315476190476191, 1.3797897196261681, 1.6824324324324325, 2.2184873949579833, 3.7524253731343284, 6.640986842105264, 8.959901315789473, 8.8479608294930]
ax3.plot(Flow_Size, SlowDown, ':', color='black', label='IdealFQ')

SlowDown = [3.95550972304066, 3.8992857142857145, 3.9047169811320757, 3.8863425925925927, 3.8943750000000001, 3.8832908163265305, 4.9159254807692312, 12.054099678456591, 16.138358695652173]
ax3.plot(Flow_Size, SlowDown, '--', color='orange', label='DCTCP')

fig.tight_layout(rect=[0.0,0.1,1,0.9])
plt.show()